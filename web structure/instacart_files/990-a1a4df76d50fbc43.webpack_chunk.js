!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6c99f358-9858-4faa-85ac-b774f31097ed",e._sentryDebugIdIdentifier="sentry-dbid-6c99f358-9858-4faa-85ac-b774f31097ed")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"landing-client@46622c00f9a0b12d592b51a9e585d4d23b404e2c"},(self.webpackChunk=self.webpackChunk||[]).push([[990],{7617:(e,n,i)=>{i.d(n,{D:()=>r});var t=i(33182),a=i(7943);function r(){return a.M.select((0,t.F)()).country}},60655:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(0),a=i(82390),r=i(54785),o=i(7617),s=i(4707),l=i(5834);const d=function(){const{trackEvent:e}=(0,s.r)(),{properties:n}=(0,l.EF)(),i=(0,a.d)(),d=(0,o.D)();return(0,t.useEffect)((()=>{(async()=>{const{getVisitToken:e,getVisitorToken:t}=await(0,r.vM)(),a={visitToken:e(),visitorToken:t()};(0,r.D_)({ahoy:a,country:d,isMobile:i,...n})})()}),[d,i,n]),(0,t.useEffect)((()=>{e("flow_start"),e("landing")}),[e]),null}},20410:(e,n,i)=>{i.d(n,{M:()=>a});const t=()=>Object.prototype.hasOwnProperty.call(window,"branch"),a=e=>{if(t())e();else{let n=0;const i=window.setInterval((async()=>{n>5&&clearInterval(i),n+=1,t()&&(clearInterval(i),e())}),1e3)}}},87856:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(83457);const a=(0,i(83162).k)((e=>({container:{margin:"".concat(t.spacing.s32,"px auto"),maxWidth:"1152px",width:"100%",[t.responsive.down("c")]:{margin:"0 auto"}},componentWrapper:{padding:"0 ".concat(t.spacing.s16,"px"),[t.responsive.down("c")]:{margin:"".concat(t.spacing.s24,"px auto")}},header:{...e.typography.titleLarge,marginBottom:t.spacing.s16,color:e.colors.systemGrayscale70,textAlign:"left"},headerWithAddressModal:{...e.typography.titleLarge,marginBottom:t.spacing.s16,color:e.colors.systemGrayscale70,textAlign:"center"},headerRegion:{color:e.colors.brandPrimaryRegular,cursor:"pointer",outline:"none",":hover":{textDecoration:"underline"},":focus":{textDecoration:"underline"}},subHeader:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale50,marginBottom:t.spacing.s16,width:"100%"},retailerContainerLink:{textDecoration:"none",cursor:"pointer",width:"100%",height:"100%"},retailerContainer:{background:"none",border:"none",textAlign:"left",fontFamily:"inherit",padding:0,[t.responsive.up("r")]:{boxShadow:"rgba(0, 0, 0, 0.16) 0px 2px 8px",borderRadius:"12px",":hover":{boxShadow:"rgba(0, 0, 0, 0.32) 0px 2px 8px"}}},retailerContentContainer:{display:"flex",flexDirection:"row",padding:12,boxSizing:"border-box",alignItems:"center",width:"100%",height:"100%",[t.responsive.down("c")]:{padding:"".concat(t.spacing.s12,"px ").concat(t.spacing.s16,"px")}},retailerTextContainer:{flexGrow:1,marginLeft:12,overflow:"hidden",[t.responsive.up("r")]:{whiteSpace:"nowrap"}},retailerName:{...e.typography.bodyLarge1,color:e.colors.systemGrayscale70,margin:0,overflow:"hidden",textOverflow:"ellipsis"},retailerAddress:{...e.typography.bodySmall1,color:e.colors.systemGrayscale70,margin:0,overflow:"hidden",textOverflow:"ellipsis"},retailerAttributeList:{marginTop:t.spacing.s4,display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:t.spacing.s4,columnGap:t.spacing.s4},retailerAttribute:{...e.typography.bodySmall1,color:e.colors.systemGrayscale50,padding:"".concat(t.spacing.s4,"px ").concat(t.spacing.s8,"px"),border:"1px solid ".concat(e.colors.systemGrayscale30),borderRadius:e.radius.r4},retailerServices:{...e.typography.bodySmall1,color:e.colors.systemGrayscale70,margin:0},retailerEta:{color:e.colors.brandPrimaryRegular},retailerEtaIcon:{verticalAlign:-4},retailerLinkArrow:{display:"none",[t.responsive.down("c")]:{display:"block"}},retailerLogo:{display:"block",height:60,width:60,borderRadius:29,border:"1px solid ".concat(e.colors.systemGrayscale20)},gridContainer:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},gridContainerRetailers:{width:"100%",maxWidth:1280,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(344px, 1fr))",gap:t.spacing.s24,justifyContent:"center",padding:"".concat(t.spacing.s8,"px 0 0 0"),margin:0,listStyleType:"none",[t.responsive.down("c")]:{gridTemplateColumns:"1fr",rowGap:"0"}},divider:{display:"inline-block",marginLeft:t.spacing.s4,marginRight:t.spacing.s4},showAllButton:{...e.typography.bodyLarge1,marginTop:t.spacing.s32,":hover":{textDecoration:"underline"},":focus":{textDecoration:"underline"},color:e.colors.brandPrimaryRegular,background:"none",border:"none",cursor:"pointer",outline:"none",fontFamily:"inherit",[t.responsive.down("c")]:{marginTop:t.spacing.s24}},categories:{...e.typography.bodyMedium1,color:e.colors.systemGrayscale50,display:"block"},desktopOnly:{[t.responsive.down("c")]:{display:"none"}},mobileOnly:{[t.responsive.up("r")]:{display:"none"}},icon:{paddingRight:0},storeCardAnchor:{[t.responsive.down("c")]:{padding:"12px 0px"}},storeCardEta:{...e.typography.bodySmall1,margin:"0px",[t.responsive.down("c")]:{...e.typography.bodyMedium1}},storeCardAttributes:{...e.typography.bodySmall1,[t.responsive.down("c")]:{...e.typography.bodyMedium1,marginTop:"4px"}}})))},43963:(e,n,i)=>{i.d(n,{Z:()=>t.Z});var t=i(55018)},1843:(e,n,i)=>{i.d(n,{DE:()=>r});var t=i(34436);const a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"HomepageGuestUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"streetAddress"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createGuestUserWithAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"streetAddress"},value:{kind:"Variable",name:{kind:"Name",value:"streetAddress"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UsersAuthToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SharedError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorTypes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:284,source:{body:"\n  mutation HomepageGuestUser($streetAddress: String!, $postalCode: String!) {\n    createGuestUserWithAddress(streetAddress: $streetAddress, postalCode: $postalCode) {\n      ... on UsersAuthToken {\n        token\n      }\n      ... on SharedError {\n        errorTypes\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r=()=>(0,t.Db)(a)},2014:(e,n,i)=>{i.d(n,{Pu:()=>r,Cy:()=>s,ZL:()=>d});var t=i(34436);const a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HeroSectionLayout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"geolocated"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"geolocated"},value:{kind:"Variable",name:{kind:"Name",value:"geolocated"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hero"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentLocationString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"getEverythingYouNeedString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geolocationErrorString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"freeDeliveryOrPickupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refreshedHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startShoppingInString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputPlaceholderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitedStatesString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canadaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"australiaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterAddressString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clearAddressString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addressNavigationInstructionsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFound0String"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFound1String"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFoundNString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"findStoreString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterAddressFirstString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accountExistsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loginString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mobileBackgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"768"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"serviceTypeLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"428"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"usFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"caFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"auFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"countryChooserArrowImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"actionableHeroImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activationPostAddressVariant"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1491,source:{body:"\n  query HeroSectionLayout($geolocated: Boolean) {\n    viewLayout {\n      id\n      homepage(geolocated: $geolocated) {\n        id\n        hero {\n          id\n          currentLocationString\n          headingString\n          getEverythingYouNeedString\n          geolocationErrorString\n          freeDeliveryOrPickupString\n          refreshedHeadingString\n          startShoppingInString\n          subheadingString\n          inputPlaceholderString\n          unitedStatesString\n          canadaString\n          australiaString\n          enterAddressString\n          clearAddressString\n          addressNavigationInstructionsString\n          resultsFound0String\n          resultsFound1String\n          resultsFoundNString\n          findStoreString\n          enterAddressFirstString\n          loadingString\n          accountExistsString\n          loginString\n          signupString\n          mobileBackgroundImage {\n            resizedUrl(width: 768)\n          }\n          serviceTypeLabelString\n          pickupString\n          deliveryString\n          backgroundImage {\n            resizedUrl(height: 428)\n          }\n          usFlagImage {\n            url\n          }\n          caFlagImage {\n            url\n          }\n          auFlagImage {\n            url\n          }\n          countryChooserArrowImage {\n            url\n          }\n          actionableHeroImage {\n            templateUrl\n            altText\n          }\n          activationPostAddressVariant\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r=e=>(0,t.aM)(a,e),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopRetailersList"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noGeoRetailerList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showNoGeoRetailerListVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonTextString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:217,source:{body:"\n  query TopRetailersList {\n    viewLayout {\n      id\n      homepage {\n        id\n        noGeoRetailerList {\n          id\n          showNoGeoRetailerListVariant\n          buttonTextString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},s=function(){let{skip:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.aM)(o,{skip:e})},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersListLogo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"retailers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:223,source:{body:"\n  query RetailersListLogo($ids: [ID!]!) {\n    retailers(ids: $ids) {\n      id\n      name\n      viewSection {\n        id\n        logoImage {\n          url\n          templateUrl\n          altText\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},d=e=>{let{skip:n,retailerIds:i}=e;return(0,t.aM)(l,{skip:n,variables:{ids:i}})}},23463:(e,n,i)=>{i.d(n,{A:()=>d,m:()=>c});var t=i(0),a=i(74927),r=i(96749),o=i(64506),s=i(14334),l=i(53298);const d=e=>e.viewSection.lineTwoString.split(",")[0],c=()=>{const e=(n=o.Sk,l.Q.select((0,s.F)())[n]);var n;const[i,c]=(0,t.useState)(Boolean(e)),[u,m]=(0,t.useState)();return(0,t.useEffect)((()=>{const n=localStorage?localStorage.getItem(a.Zn):void 0,i=n?JSON.parse(n):void 0;c(Boolean(i)),m(i),i&&!e?(0,r.d8)(o.Sk,d(i),{expires:30}):e&&!i&&(0,r.kT)(o.Sk)}),[e]),{storedLocation:u,storedCity:u?d(u):i?e:void 0}}},45611:(e,n,i)=>{i.d(n,{l0:()=>a,Q5:()=>r,e2:()=>o});var t=i(13883);const a=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"activation_homepage_free_delivery_banner",variants:["variant"]},userLifecycleDependency:{statuses:[t.J0.new]}}),r=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_open_signup_only_geo",variants:["variant"]}}),o=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_retailer_opens_signup",variants:["variant"]}})},28114:(e,n,i)=>{i.r(n),i.d(n,{default:()=>an});var t=i(0),a=i(3823),r=i(3946),o=i(93729),s=i(6340),l=i(60655),d=i(82390),c=i(39615),u=i(34436);const m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeDeliveryBannerLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingFreeDeliveryBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"termsApplyUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTermsApplyUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeDeliveryTextStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"freeDeliveryTextMobileStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTextStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTextMobileStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deliveryIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:725,source:{body:"\n  query FreeDeliveryBannerLayout {\n    landingFreeDeliveryBanner {\n      termsApplyUrl\n      threeFreeDeliveryTermsApplyUrl\n      viewSection {\n        freeDeliveryTextStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        freeDeliveryTextMobileStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        threeFreeDeliveryTextStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        threeFreeDeliveryTextMobileStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        deliveryIconImage {\n          url\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var g=i(83457),p=i(83162);const v=(0,p.k)((e=>({flexContainer:{...e.typography.bodySmall1,width:"100%",display:"flex",backgroundColor:e.colors.brandPromotionalRegular,color:e.colors.brandPromotionalLight,height:"36px",[g.responsive.up("r")]:{height:"56px",...e.typography.subtitleLarge}},flexItem:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,margin:"auto"},icon:{verticalAlign:"middle",width:"36px",height:"36px",[g.responsive.down("c")]:{marginLeft:g.spacing.s8,width:"24px",height:"24px"}},defaultText:{fontWeight:"normal",margin:"0px ".concat(g.spacing.s8,"px"),[g.responsive.down("c")]:{display:"none"}},mobileText:{fontWeight:"normal",margin:"0px ".concat(g.spacing.s8,"px"),[g.responsive.up("r")]:{display:"none"}},freeDelivery:{...e.typography.bodyLarge1,[g.responsive.down("c")]:{...e.typography.bodySmall1}},termsApply:{fontWeight:"normal",color:e.colors.brandPromotionalLight,textDecorationSkipInk:"none"}})));var k=i(38839);const h=function(e){let{threeFreeDelivery:n}=e;const i=v(),{data:t}=(0,u.aM)(m),a=null==t?void 0:t.landingFreeDeliveryBanner;if(!a)return null;const r=n?a.viewSection.threeFreeDeliveryTextMobileStringFormatted.sections:a.viewSection.freeDeliveryTextMobileStringFormatted.sections,o=n?a.viewSection.threeFreeDeliveryTextStringFormatted.sections:a.viewSection.freeDeliveryTextStringFormatted.sections,s=e=>(0,k.tZ)("span",{css:i.freeDelivery,children:e}),l=e=>n?(0,k.tZ)("a",{css:i.termsApply,href:a.threeFreeDeliveryTermsApplyUrl,target:"_blank",rel:"noopener noreferrer",children:e}):(0,k.tZ)("a",{css:i.termsApply,href:a.termsApplyUrl,target:"_blank",rel:"noopener noreferrer",children:e});return(0,k.tZ)("div",{css:i.flexContainer,children:(0,k.BX)("div",{css:i.flexItem,children:[(0,k.tZ)("img",{css:i.icon,alt:"",src:a.viewSection.deliveryIconImage.url}),(0,k.tZ)("span",{css:i.mobileText,children:(0,c.WU)(r,{},{free_text:s,terms_link:l})}),(0,k.tZ)("span",{css:i.defaultText,children:(0,c.WU)(o,{},{free_text:s,terms_link:l})})]})})};var y=i(69373);const S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomepageFaqs"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepageFaqs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItemAnswers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItemAnswerDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailString"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:427,source:{body:"\n  query HomepageFaqs {\n    viewLayout {\n      id\n      homepageFaqs {\n        id\n        faqs {\n          id\n          headerString\n          faqsItems {\n            id\n            questionString\n            faqsItemAnswers {\n              id\n              answerString\n              faqsItemAnswerDetails {\n                id\n                detailString\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},f=e=>e.split("\n").map((e=>(0,k.BX)(t.Fragment,{children:[e,(0,k.tZ)("br",{})]},"".concat(e)))),x=e=>e.map((e=>({question:e.questionString,answer:e.faqsItemAnswers.map((e=>{return n=e,(0,k.BX)(t.Fragment,{children:[n.answerString&&f(n.answerString),(i=n.faqsItemAnswerDetails,i.length>0&&(0,k.tZ)("ul",{children:i.map((e=>(0,k.tZ)("li",{children:e.detailString},e.id)))}))]},n.id);var n,i}))})));const b=function(){const{data:e}=(0,u.aM)(S),n=null==e?void 0:e.viewLayout.homepageFaqs.faqs;if(!n)return null;const i={title:n.headerString,style:"homepage",faqs:x(n.faqsItems||[])};return(0,k.tZ)(y.Z,{...i})};var w=i(27888),N=i(42329),F=i(4707),C=i(80573),I=i(7356),T=i(44503);const L=(0,p.k)((e=>({container:{backgroundColor:"".concat(e.colors.systemGrayscale00),borderRadius:g.spacing.s8,boxSizing:"border-box",padding:"10px 12px",border:"solid 1px ".concat(e.colors.systemGrayscale30),display:"flex",alignItems:"center",[g.responsive.down("c")]:{display:"none"}},flag:{width:"25px",height:"25px",marginRight:"6px"},selectOnlyArrow:{appearance:"none",border:"none",width:g.spacing.s8,height:"5px",textIndent:g.spacing.s8,cursor:"pointer",backgroundPosition:"center",backgroundRepeat:"no-repeat",padding:g.spacing.s8}})));var D=i(2014);const A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LandingCountryQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingCountry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"infos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flagImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iso2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:199,source:{body:"\n  query LandingCountryQuery {\n    landingCountry {\n      infos {\n        currency\n        flagImage\n        id\n        iso2\n        viewSection {\n          countryString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Z=i(58123);const _=()=>{const e=L(),n=(0,Z.Bf)(),{data:i,error:t}=(0,T.l)(),{data:a}=(0,D.Pu)(),{data:r}=(0,u.aM)(A),o=null==i?void 0:i.landingConfiguration.country,s=null==a?void 0:a.viewLayout.homepage.hero,l=null==r?void 0:r.landingCountry.infos;if(t&&n.increment("country_chooser.landing_configuration.error"),!l||!o)return o||n.increment("country_chooser.current_country_code.null"),null;const{countryChooserArrowImage:d}=s||{},c={US:"com",CA:"ca",AU:"com.au"},m=l.filter((e=>e.iso2===o))[0],g=[m,...l.filter((e=>e.iso2!==o))],p={backgroundImage:"url('".concat(null==d?void 0:d.url,"')"),...e.selectOnlyArrow};return void 0===m&&C.Z.warn("currentCountry not found for ".concat(o),{owner:I.Z.acquisition}),(0,k.BX)("div",{css:e.container,children:[(0,k.tZ)("object",{data:m.flagImage,"aria-label":m.viewSection.countryString,type:"image/svg+xml",css:e.flag,tabIndex:-1,"aria-hidden":"true",children:m.viewSection.countryString}),(0,k.tZ)("select",{"data-testid":"country_chooser",name:"country_alpha_2","aria-label":"Choose your country. This action refreshes the page.",onChange:e=>{let{target:{value:n}}=e;if("undefined"!=typeof window){const e="https://www.instacart.".concat(c[n]).concat(window.location.pathname).concat(window.location.search);window.location.assign(e)}},css:p,children:g.map((e=>(0,k.tZ)("option",{value:e.iso2,"aria-label":e.viewSection.countryString,children:e.iso2},e.iso2)))})]})};var B=i(1843),R=i(91663);const U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersStringsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailersList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showAllTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showLessTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showMoreTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesSignupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shopByStoresString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"popularHeadlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineWithRegionStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chooseHeadlineWithRegionStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:894,source:{body:"\n  query RetailersStringsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        retailersList {\n          id\n          headlineString\n          showAllTextString\n          showLessTextString\n          showMoreTextString\n          pickupUnavailableHeadingString\n          deliveryUnavailableHeadingString\n          serviceUnavailableHeadingString\n          pickupUnavailableSubheadingString\n          deliveryUnavailableSubheadingString\n          serviceUnavailableSubheadingString\n          updatesSignupString\n          shopByStoresString\n          popularHeadlineString\n          headlineWithRegionStringFormatted {\n            sections {\n              name\n              content\n            }\n          }\n          chooseHeadlineWithRegionStringFormatted {\n            sections {\n              name\n              content\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var M=i(78393),W=i(8277),G=i(8324);const q=(0,p.k)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:g.spacing.s48},heading:{...e.typography.bodyLarge1,marginTop:"30px",color:e.colors.systemGrayscale50},subheading:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale50,width:"375px"},updates:{...e.typography.bodyLarge1,marginTop:"24px",backgroundColor:"#FFFFFF",color:e.colors.brandPrimaryRegular,textDecoration:"none",fontFamily:"inherit"}}))),O=e=>{let{postalCode:n,heading:i,subheading:t,updates:a}=e;const r=q(),{authModalProps:o,openAuthModal:s}=(0,M.R)(),l=i.replace("{postal_code}",n);return(0,k.BX)("div",{css:r.container,children:[(0,k.tZ)("div",{css:r.heading,children:l}),(0,k.tZ)("div",{css:r.subheading,children:t}),(0,k.tZ)(G.Z,{children:(0,k.tZ)("div",{"aria-live":"assertive",children:l})}),a&&(0,k.BX)("div",{children:[(0,k.tZ)(g.ButtonBase,{css:r.updates,onClick:()=>s(W.Path.Signup),children:a}),(0,k.tZ)(M.Z,{authModalProps:o})]})]})};var P=i(75246),z=i(55645),V=i(87856),H=i(3533),E=i(8120);const X=function(e){let{name:n,logo:i,services:t,serviceKeys:a,attributes:r,url:o,id:s,deliveryEtaString:l,onRetailerClick:c,disableClick:u,storeCardRef:m}=e;const g=(0,V.Z)(),{trackEvent:p}=(0,H.r)(),v=u?{cursor:"default"}:{},h=(0,d.d)(),y=e=>{u?e.preventDefault():(p("signup.button_press",{source:"browse_stores",source_value:s,source1:n}),c&&c({url:o,id:s,name:n,services:t,serviceKeys:a,logo:i},e))},S=()=>(0,k.tZ)(k.HY,{children:(0,k.BX)(z.XSt,{css:(0,P.iv)({width:"100%",...v,...g.storeCardAnchor},""),href:o,onClick:y,children:[(0,k.tZ)(z.FIO,{children:(0,k.tZ)(E.Z,{templateUrl:i.templateUrl,style:g.retailerLogo,alt:i.alt,loading:"lazy",decoding:"async"})}),(0,k.BX)(z.Hx3,{children:[(0,k.tZ)(z.kWF,{css:g.retailerName,children:n}),!l&&(0,k.tZ)(z.p_P,{css:g.storeCardEta,children:t.map(((e,n)=>(0,k.BX)("span",{children:[(0,k.tZ)("span",{children:e}),(0,k.tZ)("span",{children:n+1<t.length&&(0,k.tZ)("span",{css:g.divider,children:" â€¢ "})})]},e)))}),l&&(0,k.BX)(z.tPe,{css:g.storeCardEta,styles:{icon:g.icon},children:[l,t.length>1&&t.slice(1).map((e=>(0,k.BX)(z.p_P,{css:g.storeCardEta,children:[(0,k.tZ)("span",{css:g.divider,children:" â€¢ "}),(0,k.tZ)("span",{children:e})]})))]}),r&&r.map((e=>(0,k.tZ)(z.QCd,{css:g.storeCardAttributes,children:e})))]}),(0,k.tZ)(z.yzH,{css:g.mobileOnly,children:(0,k.tZ)(z.$hR,{})})]})});return(0,k.tZ)(k.HY,{children:h?(0,k.tZ)("div",{css:g.mobileOnly,children:(0,k.tZ)(z.YaG,{children:S()})}):(0,k.tZ)("div",{css:(0,P.iv)({...g.desktopOnly,height:"100%"},""),children:(0,k.tZ)(z.p6f,{css:(0,P.iv)({height:"100%",display:"flex",alignItems:"center",...g.retailerContainer},""),ref:m,children:S()})})})};var j=i(7335),$=i(84773);const Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LpsShopCollection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"retailerSlugs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"coordinates"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UsersCoordinatesInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"addressId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowCanonicalFallback"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"retailerSlugs"},value:{kind:"Variable",name:{kind:"Name",value:"retailerSlugs"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}},{kind:"Argument",name:{kind:"Name",value:"coordinates"},value:{kind:"Variable",name:{kind:"Name",value:"coordinates"}}},{kind:"Argument",name:{kind:"Name",value:"addressId"},value:{kind:"Variable",name:{kind:"Name",value:"addressId"}}},{kind:"Argument",name:{kind:"Name",value:"allowCanonicalFallback"},value:{kind:"Variable",name:{kind:"Name",value:"allowCanonicalFallback"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homeCategories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerCardCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categoryString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"logoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"retailerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerLocationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingProperties"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1044,source:{body:"\n  query LpsShopCollection(\n    $retailerSlugs: [String!]\n    $postalCode: String!\n    $coordinates: UsersCoordinatesInput!\n    $addressId: ID\n    $allowCanonicalFallback: Boolean\n  ) {\n    shopCollection(\n      retailerSlugs: $retailerSlugs\n      postalCode: $postalCode\n      coordinates: $coordinates\n      addressId: $addressId\n      allowCanonicalFallback: $allowCanonicalFallback\n    ) {\n      id\n      shops {\n        id\n        retailer {\n          id\n          categories\n          homeCategories\n          slug\n          name\n          retailerType\n          viewSection {\n            id\n            retailerCardCategories {\n              id\n              categoryString\n            }\n            logoImage {\n              id\n              altText\n              templateUrl\n              url\n            }\n          }\n        }\n        retailerId\n        retailerLocationId\n        serviceType\n        viewSection {\n          id\n          trackingProperties\n          deliveryString\n          pickupString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LpsShopTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shopIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"zoneId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"coordinates"}},type:{kind:"NamedType",name:{kind:"Name",value:"UsersCoordinatesInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attributeContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"shopIds"},value:{kind:"Variable",name:{kind:"Name",value:"shopIds"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}},{kind:"Argument",name:{kind:"Name",value:"zoneId"},value:{kind:"Variable",name:{kind:"Name",value:"zoneId"}}},{kind:"Argument",name:{kind:"Name",value:"coordinates"},value:{kind:"Variable",name:{kind:"Name",value:"coordinates"}}},{kind:"Argument",name:{kind:"Name",value:"attributeContext"},value:{kind:"Variable",name:{kind:"Name",value:"attributeContext"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shopId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingProperties"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerCardShopTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributeString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataSourceVariant"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:795,source:{body:'\n  query LpsShopTags(\n    $shopIds: [ID!]!\n    $postalCode: ID!\n    $zoneId: ID!\n    $coordinates: UsersCoordinatesInput\n    $attributeContext: String\n  ) {\n    shopTags(\n      shopIds: $shopIds\n      postalCode: $postalCode\n      zoneId: $zoneId\n      coordinates: $coordinates\n      attributeContext: $attributeContext\n    ) {\n      id\n      shopId\n      viewSection {\n        id\n        trackingProperties\n        retailerCardShopTags {\n          id\n          attributeString # e.g. "Save $10 off your order"\n          textColor\n          textBackgroundColor\n          iconString\n          displayVariant # "primary" or "secondary" (we can map these display variants to different ways of displaying attributes)\n          dataSourceVariant # shopTag or deliveryEta\n        }\n      }\n    }\n  }\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersDeliveryEta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableRetailerServicesWithoutAuth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"retailer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"services"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deliveryEta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"etaString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:289,source:{body:"\n  query RetailersDeliveryEta($postalCode: String!) {\n    availableRetailerServicesWithoutAuth(postalCode: $postalCode) {\n      retailer {\n        name\n        id\n        slug\n      }\n      services\n      viewSection {\n        deliveryEta {\n          etaString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var J=i(88182);const ee=e=>{var n,i,a;let{postalCodeOverride:o,coordinatesOverride:s,cityData:l,linkUrlTemplate:d,pickupOnly:c,skip:m=!1}=e;const g=(0,$.Z)({skip:m||!!o&&!!s||!!l}),p={latitude:(null==s?void 0:s.latitude)||(null==l?void 0:l.coordinates.latitude)||(null===(n=g.coordinates)||void 0===n?void 0:n.latitude),longitude:(null==s?void 0:s.longitude)||(null==l?void 0:l.coordinates.longitude)||(null===(i=g.coordinates)||void 0===i?void 0:i.longitude)},v=o||(null==l?void 0:l.postalCode)||(null==g?void 0:g.postalCode),{data:k,loading:h}=(y={variables:{postalCode:v,coordinates:p},skip:m},(0,u.aM)(Q,y));var y;const{data:S,loading:f}=(e=>(0,u.aM)(K,e))({variables:{postalCode:v},skip:m}),x=(0,t.useMemo)((()=>(null==S?void 0:S.availableRetailerServicesWithoutAuth)||[]),[null==S?void 0:S.availableRetailerServicesWithoutAuth]),{data:b}=(0,R.S_)({skip:m||!v,variables:{postalCode:v}}),w=(null==l?void 0:l.zoneId)||(null==b||null===(a=b.zoneV2)||void 0===a?void 0:a.id),N=(0,t.useMemo)((()=>(null==k?void 0:k.shopCollection.shops)||[]),[k]),F=N.map((e=>e.id)),{data:C,loading:I}=(e=>(0,u.aM)(Y,e))({variables:{postalCode:v,coordinates:p,zoneId:w,shopIds:F},skip:m||0===F.length}),T=h||I||f,L=(0,t.useMemo)((()=>{let e=[];const n=(null==C?void 0:C.shopTags)||[],i=N.reduce(((e,n)=>{const{retailerId:i}=n,t=e[i]||[];return{...e,[i]:[...t,n]}}),{}),t=n.reduce(((e,n)=>({...e,[n.shopId]:n})),{}),a=x.reduce(((e,n)=>({...e,[n.retailer.id]:n})),{});return N&&N.length>0&&(e=N.map((e=>{const{retailerId:n}=e,o=i[n];return function(e){var n,i,t,a,o,s;let{shops:l,linkUrlTemplate:d,shopTags:c,retailerDeliveryEta:u,pickupOnly:m}=e;const g=null==u||null===(n=u.viewSection)||void 0===n||null===(i=n.deliveryEta)||void 0===i?void 0:i.etaString,p=l.map((e=>{var n;return null==e||null===(n=e.viewSection)||void 0===n?void 0:n.deliveryString})).filter(J.Dw).join(""),v=l.map((e=>{var n;return null==e||null===(n=e.viewSection)||void 0===n?void 0:n.pickupString})).filter(J.Dw).join(""),k=g&&g!==p?g:null,h=m?[v]:[p,v],y=null===(t=l.at(0))||void 0===t||null===(a=t.retailer)||void 0===a||null===(o=a.viewSection)||void 0===o?void 0:o.retailerCardCategories.map((e=>e.categoryString));let S=[];return S=Array.from(new Set(c.flatMap((e=>null==e?void 0:e.viewSection.retailerCardShopTags.map((e=>e.attributeString)).filter(J.Dw))))),{url:d?(0,r.generatePath)(d,{slug:null==l||null===(s=l[0].retailer)||void 0===s?void 0:s.slug}):"/".concat(null==l?void 0:l[0].retailer.slug),id:null==l?void 0:l[0].retailer.id,name:null==l?void 0:l[0].retailer.name,logo:{templateUrl:null==l?void 0:l[0].retailer.viewSection.logoImage.templateUrl,alt:null==l?void 0:l[0].retailer.name},serviceKeys:l.map((e=>e.serviceType)),deliveryEtaString:k,services:h.filter(Boolean),categories:y,attributes:S}}({shops:o,linkUrlTemplate:d,shopTags:o.map((e=>t[e.id])),retailerDeliveryEta:a[n],pickupOnly:c})})).filter((e=>Boolean(e))).filter((e=>!c||e.serviceKeys.includes("pickup"))),e=(0,J.YY)(e,((e,n)=>e.id===n.id))),e}),[C,N,x,d,c]);return{loading:T,retailers:L}};const ne=function(e){let{styles:n,hideHeader:i,header:a,subheader:r,headerStyles:o,subheaderStyles:s,linkUrlTemplate:l="/store/:slug/storefront",headerWithRegionStringFormatted:u,region:m,addressModalState:g,retailersTruncationText:p,onRetailerClick:v,disableClick:h=!1,pickupOnly:y,cityData:S,retailersOverride:f,postalCodeOverride:x,coordinatesOverride:b}=e,w=[];const N=(0,V.Z)(),F=(0,d.d)(),C=f&&f.length>0,{loading:I,retailers:T}=ee({postalCodeOverride:x,coordinatesOverride:b,pickupOnly:y,cityData:S,linkUrlTemplate:l,skip:C}),L=(0,z.M4m)(g),D=F?5:12,[A,Z]=(0,t.useState)(!1),[_,B]=(0,t.useState)(D),R=(0,t.useRef)(null),U=(0,t.useRef)([]),{trackEvent:M}=(0,H.r)(),{t:W}=(0,j.F)(["globals.retailers_list"]);if((0,t.useEffect)((()=>(B(D),()=>{Z(!1)})),[D]),(0,t.useEffect)((()=>{var e;if(null!==(e=U.current)&&void 0!==e&&e.length&&_!==D){let e;e=A?D:_-D;const n=U.current[e].firstChild;null==n||n.focus()}}),[A,D,_]),T&&T.length>0)w=T;else{if(!C)return null;w=f}if(I||!w.length)return null;const G=()=>_<w.length?F?(null==p?void 0:p.showMoreText)||W("retailers_list.show_more"):(null==p?void 0:p.showAllText)||W("retailers_list.show_all"):(null==p?void 0:p.showLessText)||W("retailers_list.show_less"),q=w.length>D;return(0,k.tZ)("div",{css:[N.componentWrapper,n,""],children:(0,k.BX)("div",{css:N.container,children:[!i&&(a||u)&&(u?(0,k.tZ)("h2",{css:N.headerWithAddressModal,children:(0,c.WU)(u.sections,{region:m},{region:e=>(0,k.tZ)("span",{css:N.headerRegion,tabIndex:0,role:"button",...L,children:e},"region")})}):(0,k.tZ)("h2",{css:(0,P.iv)({...N.header,...o},""),children:a})),r&&(0,k.tZ)("h3",{css:(0,P.iv)({...N.subHeader,...s},""),children:r}),(0,k.BX)("div",{css:N.gridContainer,children:[(0,k.tZ)("ul",{css:N.gridContainerRetailers,ref:R,children:w.slice(0,_).map(((e,n)=>(0,k.tZ)("li",{children:(0,k.tZ)(X,{...e,onRetailerClick:v,disableClick:h,storeCardRef:e=>{e&&(U.current[n]=e)}})},e.id)))}),q&&(0,k.tZ)("button",{css:N.showAllButton,onClick:()=>{var e,n;M("signup.button_press",{source:"browse_stores",source_value:G()}),F?_<w.length?B(_+5):(B(5),null==R||null===(n=R.current)||void 0===n||n.scrollIntoView()):(A?(B(12),null==R||null===(e=R.current)||void 0===e||e.scrollIntoView()):B(w.length),Z(!A))},children:G()})]})]})})};const ie=function(e){var n,i;let{postalCode:a,coordinates:r,region:o,filter:s,hideHeadline:l,toggleVisible:d,updatedLocation:c,onRetailerClick:m,onServiceClick:g,setLocationUpdate:p,showSubheader:v,addressModalState:h}=e,y=[];const{loading:S,retailers:f}=ee({postalCodeOverride:a,coordinatesOverride:r,linkUrlTemplate:"/store/:slug/storefront"}),{data:x}=(0,u.aM)(U),b=null==x||null===(n=x.viewLayout)||void 0===n||null===(i=n.homepage)||void 0===i?void 0:i.retailersList,w=(null==b?void 0:b.serviceUnavailableHeadingString)||"",N=(null==b?void 0:b.serviceUnavailableSubheadingString)||"",F=(null==b?void 0:b.deliveryUnavailableHeadingString)||"",C=(null==b?void 0:b.deliveryUnavailableSubheadingString)||"",I=(null==b?void 0:b.pickupUnavailableHeadingString)||"",T=(null==b?void 0:b.pickupUnavailableSubheadingString)||"",L=(null==b?void 0:b.updatesSignupString)||"",{headlineString:D,chooseHeadlineWithRegionStringFormatted:A}=b||{},Z=!f||0===f.length,_=null==b?void 0:b.shopByStoresString,B="".concat(D," ").concat(o);if((0,t.useEffect)((()=>{if(!Z&&d)if(y.length)p(!1);else if(!y.length&&c){const e="delivery"===s?"pickup":"delivery";p(!1),g(e)}})),Z)return d&&!S&&a?(0,k.tZ)(O,{postalCode:a,heading:w,subheading:N,updates:L}):null;if(y=f,d&&(y=y.filter((e=>e.serviceKeys.includes(s)))),!y.length){const e="delivery"===s;return(0,k.tZ)(O,{postalCode:a||"",heading:e?F:I,subheading:e?C:T})}return(0,k.tZ)(ne,{postalCodeOverride:a,coordinatesOverride:r,retailersOverride:y,hideHeader:l,onRetailerClick:m,header:B||"",retailersTruncationText:{showAllText:(null==b?void 0:b.showAllTextString)||"",showLessText:(null==b?void 0:b.showLessTextString)||"",showMoreText:(null==b?void 0:b.showMoreTextString)||""},pickupOnly:"pickup"===s,subheader:v?_:void 0,addressModalState:h,headerWithRegionStringFormatted:A,region:o})};var te=i(54785),ae=i(20410);const re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QrCodeBannerLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"appDownloadQrCode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerLeftImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"descriptionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qrCodeBackgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qrCodeBackupImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"titleString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:399,source:{body:"\n  query QrCodeBannerLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        appDownloadQrCode {\n          id\n          bannerLeftImage {\n            url\n          }\n          descriptionString\n          qrCodeBackgroundImage {\n            url\n          }\n          qrCodeBackupImage {\n            url\n            altText\n          }\n          titleString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},oe=(0,p.k)((e=>({bannerContainer:{height:"100px",width:"100%",maxWidth:"1152px",backgroundColor:"#B1E5D5",display:"flex",flexDirection:"row",margin:"auto",alignItems:"center",justifyContent:"space-between",borderRadius:g.spacing.s8,...g.elevation.high.shadow},leftImage:{height:"100px",width:"267px",[g.responsive.down("c")]:{display:"none"}},textContainer:{width:"410px",justifyContent:"center",[g.responsive.down("c")]:{marginLeft:"30px"}},title:{...e.typography.titleMedium},description:{...e.typography.bodyMedium2},imgStyle:{float:"right",width:"100px",marginLeft:"40px",borderRadius:g.spacing.s8,[g.responsive.down("c")]:{margin:"0px"}}})));const se=function(){const e=oe(),{data:n}=(0,u.aM)(re),{trackEvent:i}=(0,H.r)(),a=null==n?void 0:n.viewLayout.homepage.appDownloadQrCode,r=null==a?void 0:a.bannerLeftImage.url,o=null==a?void 0:a.qrCodeBackgroundImage.url,s=null==a?void 0:a.qrCodeBackupImage.url,l=null==a?void 0:a.descriptionString,d=null==a?void 0:a.titleString,[c,m]=(0,t.useState)(s),{visitToken:g}=(0,te.zk)();return(0,t.useEffect)((()=>{if(!a||!g)return;const e={code_color:"#000000",background_color:"#FFFFFF",center_logo_url:o,margin:5,width:800,image_format:"png"},n={tags:["homepage_native_upsell_qr_code"],channel:"instacart_internal",feature:"app_download",campaign:"customer_app_download",data:{utm_term:g,utm_campaign:"customer_app_download",utm_medium:"app_download",utm_content:"homepage_native_upsell_qr_code",utm_source:"instacart_internal"}};(0,ae.M)((async()=>{const{branch:t}=window;"function"==typeof t.qrCode?t.qrCode(n,e,(function(e,n){e?i("app_download_placement.qr_code_generation_fail",{source_type:"homepage_qr_code"}):(m("data:image/png;charset=utf-8;base64,".concat(n.base64())),i("app_download_placement.view",{source_type:"homepage_qr_code"}))})):i("app_download_placement.qr_code_function_error",{source_type:"homepage_qr_code"})}))}),[a,o,i,g]),a?(0,k.BX)("div",{css:e.bannerContainer,children:[(0,k.tZ)("img",{css:e.leftImage,src:r,alt:""}),(0,k.BX)("div",{css:e.textContainer,children:[(0,k.BX)("h2",{css:e.title,children:[" ",d]}),(0,k.tZ)("div",{css:e.description,children:l})]}),(0,k.tZ)("img",{css:e.imgStyle,src:c,alt:a.qrCodeBackupImage.altText||""})]}):null};var le=i(45611),de=i(5349),ce=i(40022);const ue=e=>{let{heroData:n}=e;const i=(0,g.useTheme)();if(!n||null==n||!n.viewLayout.homepage.hero)return null;const t={note:n.viewLayout.homepage.hero.accountExistsString,text:n.viewLayout.homepage.hero.loginString,noteStyles:{color:i.colors.brandSecondaryRegular}},a={color:i.colors.systemGrayscale70},r={heroType:ce.P.textForward,backgroundColor:"#FAF1E5",header:null==n?void 0:n.viewLayout.homepage.hero.headingString,image:{url:"",templateUrl:n.viewLayout.homepage.hero.actionableHeroImage.templateUrl,altText:n.viewLayout.homepage.hero.actionableHeroImage.altText,imageType:ce._.rectangular},link:t,heroCta:{primaryButton:{label:n.viewLayout.homepage.hero.signupString},heroCtaType:de.se.primaryButtonOnly},showMobileImage:!1,shortHero:!0};return(0,k.tZ)(de.ZP,{...r,children:(0,k.tZ)("span",{css:a,children:n.viewLayout.homepage.hero.subheadingString})})};var me=i(23463);const ge=(0,t.createContext)({activeLocation:!1});function pe(e){var n,i;let{children:a}=e;const{storedLocation:r,storedCity:o}=(0,me.m)(),s=(0,$.Z)(),l=(null==r?void 0:r.postalCode)||(o?null:null==s?void 0:s.postalCode),d=r&&(0,me.A)(r),c=Boolean(r||o),u=d||o||(null==s?void 0:s.region)||(null==s?void 0:s.city),m=null==r||null===(n=r.coordinates)||void 0===n?void 0:n.latitude,g=null==r||null===(i=r.coordinates)||void 0===i?void 0:i.longitude,p=(0,t.useMemo)((()=>m&&g?{latitude:m,longitude:g}:void 0),[m,g]),v=null==r?void 0:r.streetAddress,h=(0,t.useMemo)((()=>({cityOrRegion:u,coordinates:p,postalCode:l,streetAddress:v,storedLocation:r,activeLocation:c})),[u,p,l,v,r,c]);return(0,k.tZ)(ge.Provider,{value:h,children:a})}var ve=i(10887);const ke=()=>{const e=(0,g.useTheme)();return{container:{margin:"auto",maxWidth:"1368px"},logoContainer:{display:"grid",gap:g.spacing.s24,justifyContent:"space-between",padding:"".concat(g.spacing.s32,"px 90px"),margin:"auto",gridTemplateColumns:"repeat(10, 1fr)",flexDirection:"row",alignItems:"center",[g.responsive.down("l")]:{padding:"".concat(g.spacing.s32,"px ").concat(g.spacing.s32,"px")},[g.responsive.down("r")]:{gap:g.spacing.s32,justifyContent:"center",padding:"".concat(g.spacing.s32,"px ").concat(g.spacing.s16,"px"),gridTemplateColumns:"auto auto auto auto auto auto"},[g.responsive.down("c")]:{gap:g.spacing.s12}},logoImage:{height:40,width:40,borderRadius:200,margin:"0 auto",border:"1px solid ".concat(e.colors.systemGrayscale20),[g.responsive.up("r")]:{height:60,width:60},[g.responsive.up("l")]:{height:70,width:70},[g.responsive.up("xl")]:{height:80,width:80}},buttonContainer:{marginLeft:"auto",marginRight:"auto",display:"block",marginBottom:g.spacing.s32,width:"375px",flex:1,padding:"".concat(g.spacing.s12,"px ").concat(g.spacing.s12,"px"),height:40,borderRadius:20,backgroundColor:e.colors.brandPrimaryDark,"& span":{...e.typography.subtitleMedium,marginTop:-2}},desktopOnly:{[g.responsive.down("r")]:{display:"none"}},mwebOnly:{[g.responsive.up("l")]:{display:"none"}}}};var he=i(7617);const ye=["57","354","12","58","231","133","279","462","205","1","1573","38","200","161","45","238","235","352","118","553"],Se=["1487","351","5","2439","311","2138","1702","523","1646","1900","424","1603","353","423","443","2433","534","2438","2388","1555"];function fe(e){var n,i;let{postAuthPaths:t}=e;const{trackEvent:a}=(0,H.r)(),r=(0,$.Z)(),o=Boolean(r.postalCode||""),s="CA"===(0,he.D)()?Se:ye,{data:l}=(0,D.ZL)({skip:o,retailerIds:s}),d=(null==l?void 0:l.retailers)||[],{data:c}=(0,D.Cy)({skip:o}),u=null==c||null===(n=c.viewLayout.homepage.noGeoRetailerList)||void 0===n?void 0:n.showNoGeoRetailerListVariant,m=null==c||null===(i=c.viewLayout.homepage.noGeoRetailerList)||void 0===i?void 0:i.buttonTextString,{storedLocation:g,storedCity:p}=(0,me.m)(),v={postalCode:(null==g?void 0:g.postalCode)||(p?null:r.postalCode)||void 0},{authModalProps:h,openAuthModal:y}=(0,M.R)(),S=ke();return"true"!==u?null:(0,k.BX)("div",{css:S.container,children:[(0,k.tZ)("div",{css:[S.logoContainer,S.desktopOnly,""],children:d.map((e=>(0,k.tZ)("img",{css:[S.logoImage,""],src:e.viewSection.logoImage.url,alt:e.name})))}),(0,k.tZ)("div",{css:[S.logoContainer,S.mwebOnly,""],children:d.slice(0,12).map((e=>(0,k.tZ)("img",{css:[S.logoImage,""],src:e.viewSection.logoImage.url,alt:e.name})))}),(0,k.tZ)(z.KMU,{css:S.buttonContainer,onClick:()=>{a("signup.button_press",{source:"no_geo_retailers_list"}),y(W.Path.Signup,v)},children:m}),(0,k.tZ)(M.Z,{authModalProps:h,postAuthPaths:t})]})}const xe=(0,N.Z)({loader:()=>i.e(9098).then(i.bind(i,44688)),webpack:()=>[44688]}),be=(0,N.Z)({loader:()=>i.e(2513).then(i.bind(i,14415)),webpack:()=>[14415]});const we=function(e){var n,i,a,o;let{addressModalState:s,activeService:l,setActiveService:c}=e;const{cityOrRegion:u,coordinates:m,postalCode:v,streetAddress:h,activeLocation:y}=(0,t.useContext)(ge),{trackEvent:S}=(0,F.r)(),{search:f}=(0,r.useLocation)(),{authModalProps:x,openAuthModal:b}=(0,M.R)(),[N,C]=(0,t.useState)(void 0),I=new URLSearchParams(f),[T,L]=(0,t.useState)(!1),[A]=(0,B.DE)(),[Z,R]=(0,t.useState)(!1),U=(0,$.Z)({}),W=Boolean(U.postalCode),{data:G}=(0,D.Pu)({variables:{geolocated:W}}),q=(0,t.useRef)(null),[O,P]=(0,t.useState)(),{visible:z}=(0,le.e2)(),V=(0,d.d)(),{visible:H}=(0,le.Q5)({skip:!W}),E=(e=>(0,p.k)((n=>({leftSideContainer:{width:"590px",height:"420px",margin:"0 auto"},countryChooser:{position:"absolute",paddingTop:g.spacing.s24},container:{width:"100%",minHeight:"220px",position:"relative",display:"flex",justifyContent:"center",flexDirection:"column",margin:"0 auto",marginBottom:g.spacing.s32,backgroundPosition:"right center",backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e,")"),backgroundColor:"#deedd6",[g.responsive.down("r")]:{backgroundSize:"contain"},[g.responsive.down("c")]:{justifyContent:"flex-end",minHeight:"184px",marginBottom:g.spacing.s24,backgroundPosition:"center top",backgroundSize:"cover"}},lpsContainer:{marginBottom:g.spacing.s32},contentContainer:{maxWidth:"1368px",width:"100%",margin:"auto",display:"flex",flexDirection:"column"},contents:{padding:"".concat(g.spacing.s24,"px 0 ").concat(g.spacing.s24,"px 144px"),[g.responsive.down("c")]:{padding:"".concat(g.spacing.s32,"px ").concat(g.spacing.s16,"px")}},heading:{...n.typography.titleLarge,fontSize:"41px",lineHeight:"52px",color:n.colors.brandSecondaryDark,fontWeight:600,margin:0,width:"578px",[g.responsive.down("c")]:{...n.typography.titleLarge,width:"256px"}},headingVariant:{width:"450px",[g.responsive.down("c")]:{...n.typography.titleLarge,textAlign:"center",width:"100%"}},refreshedHeading:{width:"100%"},subheading:{...n.typography.bodyMedium2,color:n.colors.brandSecondaryDark,margin:"".concat(g.spacing.s16,"px 0 0 0"),[g.responsive.down("c")]:{display:"none"}},addressContainer:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:g.spacing.s24,[g.responsive.down("c")]:{flexDirection:"column",marginTop:g.spacing.s48,marginBottom:g.spacing.s16}},refreshedAddressContainer:{[g.responsive.down("c")]:{marginTop:g.spacing.s24}},loadingState:{textAlign:"center"},loadingAfterRetailerClick:{height:"100vh",position:"fixed"},noAddressBackgroundImage:{maxHeight:"220px",backgroundSize:"auto",[g.responsive.down("r")]:{backgroundSize:"contain"},[g.responsive.down("c")]:{backgroundImage:"unset",maxHeight:"184px"}},serviceToggleContainer:{[g.responsive.down("c")]:{marginBottom:g.spacing.s12,marginLeft:g.spacing.s16,marginRight:g.spacing.s16}},headlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},headlineTitle:{display:"block",color:n.colors.brandPrimaryDark,...n.typography.titleLarge,fontSize:"48px",lineHeight:"55px",fontWeight:700,[g.responsive.down("c")]:{fontSize:"21px",lineHeight:"46px",fontWeight:600}},headline:{display:"block",color:n.colors.systemGrayscale70,...n.typography.titleLarge,fontSize:"48px",lineHeight:"55px",[g.responsive.down("c")]:{fontSize:"37px",lineHeight:"46px",fontWeight:700}},headlineSubTitle:{marginTop:g.spacing.s12,color:n.colors.systemSuccessDark,...n.typography.titleMedium,fontSize:"20px",[g.responsive.down("c")]:{...n.typography.bodyLarge1,maxWidth:"210px"}},headlineServiceToggleContainer:{marginTop:g.spacing.s24,maxWidth:"289px",[g.responsive.down("c")]:{maxWidth:"289px"}}}))))((null==G||null===(n=G.viewLayout.homepage.hero)||void 0===n?void 0:n.backgroundImage.resizedUrl)||"")(),X=!y,j=X?null==G||null===(i=G.viewLayout.homepage.hero)||void 0===i?void 0:i.headingString:"".concat(null==G||null===(a=G.viewLayout.homepage.hero)||void 0===a?void 0:a.refreshedHeadingString," ").concat(u),Q=e=>{e.searchParams.set("guest","true"),window.location.assign(e.toString())},Y=H?(0,k.tZ)("div",{css:E.lpsContainer,children:(0,k.tZ)(ue,{heroData:G})}):(0,k.tZ)(k.HY,{children:(0,k.tZ)("div",{css:[E.container,""],children:(0,k.BX)("div",{css:E.contentContainer,children:[(0,k.tZ)("div",{css:E.countryChooser,children:(0,k.tZ)(_,{})}),(0,k.BX)("div",{css:[E.contents,""],ref:q,children:[(0,k.tZ)("h1",{css:[E.heading,!X&&E.refreshedHeading,""],children:j}),X&&(0,k.tZ)("p",{css:E.subheading,children:null==G||null===(o=G.viewLayout.homepage.hero)||void 0===o?void 0:o.subheadingString})]})]})})});return(0,k.BX)(k.HY,{children:[Z&&(0,k.tZ)(g.LoadingGenericOnExit,{css:E.loadingAfterRetailerClick}),Y,(0,k.tZ)(fe,{}),(0,k.tZ)(ie,{hideHeadline:!X,onRetailerClick:(e,n)=>{if(z&&n)return n.preventDefault(),C({signup:e.url,login:e.url}),void b(ve.y.Signup);const i="pickup"===l&&e.pickupUrl?e.pickupUrl:e.url;P(e),((e,n,i)=>{const t=new URL(e,window.location.origin),a=I.get("code");a&&t.searchParams.set("code",a),R(!0),S(n,{source:i,source_value:"guest_user_create",source1:l}),v&&h?A({variables:{postalCode:v,streetAddress:h}}).then((()=>{window.location.assign(t.toString())})).catch((e=>{w.Z.error("Error creating a guest user",e),Q(t)})):Q(t)})(i,"retailer_click","browse_stores")},postalCode:v,coordinates:m,region:u,filter:l,toggleVisible:y,updatedLocation:T,setLocationUpdate:L,onServiceClick:e=>{c(e)},handleTrack:S,addressModalState:s}),!V&&(0,k.tZ)(se,{}),s&&(0,k.tZ)(be,{selectedRetailer:O,modalState:s}),(0,k.tZ)(xe,{}),(0,k.tZ)(M.Z,{authModalProps:x,postAuthPaths:N})]})};var Ne=i(71080);const Fe=(0,p.k)((e=>({container:{display:"flex",flexDirection:"column",maxWidth:"100%",backgroundColor:e.colors.systemGrayscale00,alignItems:"center",justifyContent:"center",padding:"".concat(g.spacing.s32,"px ").concat(g.spacing.s32,"px ").concat(g.spacing.s32,"px")},title:{textAlign:"center",paddingBottom:g.spacing.s32,...e.typography.titleLarge,fontWeight:"normal",maxWidth:"500px",color:e.colors.systemGrayscale70,[g.responsive.up("xl")]:{paddingBottom:g.spacing.s48},[g.responsive.down("l")]:{fontSize:"28px",lineHeight:"32px"},[g.responsive.down("c")]:{fontSize:"23px"}},text:{padding:g.spacing.s24,minHeight:"160px",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},sections:{display:"flex",flexDirection:"row",width:"100%",[g.responsive.up("xl")]:{"> :last-child":{marginRight:0}},[g.responsive.down("l")]:{flexDirection:"column"}},picture:{width:"100%",borderRadius:e.radius.r8,marginBottom:g.spacing.s16},desktopPicture:{display:"block",[g.responsive.down("c")]:{display:"none"}},mobilePicture:{display:"none",[g.responsive.down("c")]:{display:"block"}}}))),Ce=(0,p.k)((e=>({text:{padding:g.spacing.s32,display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},header:{...e.typography.titleLarge,color:e.colors.systemGrayscale70,fontWeight:600,maxWidth:180,textAlign:"left",hyphens:"auto",wordBreak:"break-word",[g.responsive.down("l")]:{maxWidth:"unset",fontSize:"28px",lineHeight:"32px"}},body:{fontSize:"23px",lineHeight:"28px",fontWeight:400,color:e.colors.systemGrayscale70,margin:"".concat(g.spacing.s24,"px 0 0"),textAlign:"left",[g.responsive.down("l")]:{fontSize:"18px",lineHeight:"26px"}},section:{backgroundColor:e.colors.systemGrayscale10,borderRadius:e.radius.r8,padding:0,flex:"1",display:"flex",flexDirection:"column",marginRight:g.spacing.s8,minWidth:"inherit",[g.responsive.down("l")]:{marginBottom:g.spacing.s8,marginRight:0}},clearButtonStyles:{background:"none",border:"none",cursor:"pointer",fontFamily:"inherit",width:"100%"},desktop:{display:"block",[g.responsive.down("r")]:{display:"none"}},mobile:{display:"none",[g.responsive.down("r")]:{display:"block"}}})));const Ie=function(e){let{header:n,text:i}=e;const a=Ce(),[r,o]=(0,t.useState)(!1),s=()=>"aria-".concat(n.replace(/\s/g,"")),l={[g.responsive.down("r")]:{display:r?"block":"none"}};return(0,k.BX)("div",{css:a.section,children:[(0,k.BX)("div",{css:[a.text,a.desktop,""],children:[(0,k.tZ)("h3",{css:a.header,children:n}),(0,k.tZ)("p",{css:a.body,children:i})]}),(0,k.BX)("div",{css:[a.text,a.mobile,""],children:[(0,k.tZ)("h3",{children:(0,k.tZ)("button",{css:[a.clearButtonStyles,a.header,""],onClick:()=>{o(!r)},"aria-controls":s(),"aria-expanded":r,children:n})}),(0,k.tZ)("p",{id:s(),css:[a.body,l,""],children:i})]})]})};const Te=function(e){let{title:n,image:i,mobile_image:t,stats:a,picture:r,mobile_picture:o}=e;const s=Fe(),l=(0,g.useTheme)(),d={backgroundImage:"url(".concat(i,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:0,paddingTop:"34.63%",borderRadius:l.radius.r8,marginBottom:"16px",[g.responsive.down("c")]:{backgroundImage:"url(".concat(t,")"),paddingTop:"101%"}};return(0,k.BX)("div",{css:s.container,children:[(0,k.tZ)("h2",{css:s.title,children:n}),(0,k.tZ)("div",{css:s.sections,children:r&&o?(0,k.BX)(k.HY,{children:[(0,k.tZ)(Ne.Z,{...r,style:{...s.picture,...s.desktopPicture},loading:"lazy",decoding:"async"}),(0,k.tZ)(Ne.Z,{...o,style:{...s.picture,...s.mobilePicture},loading:"lazy",decoding:"async"})]}):(0,k.tZ)("div",{css:d})}),(0,k.tZ)("div",{css:s.sections,children:a.map((e=>{let{header:n,text:i}=e;return(0,k.tZ)(Ie,{header:n,text:i},n)}))})]})},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StatsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"citiesSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"citiesTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordersSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordersTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productsSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productsTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statsImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"statsMobileImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"storeSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storeTitleString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:505,source:{body:"\n  query StatsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        stats {\n          id\n          citiesSubtitleString\n          citiesTitleString\n          headlineString\n          ordersSubtitleString\n          ordersTitleString\n          productsSubtitleString\n          productsTitleString\n          statsImage {\n            url\n          }\n          statsMobileImage {\n            url\n          }\n          storeSubtitleString\n          storeTitleString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const De=function(){const{data:e}=(0,u.aM)(Le),n=null==e?void 0:e.viewLayout.homepage.stats;if(!n)return null;const i={title:n.headlineString,image:n.statsImage.url,mobile_image:n.statsMobileImage.url,stats:[{header:n.productsTitleString,text:n.productsSubtitleString},{header:n.citiesTitleString,text:n.citiesSubtitleString},{header:n.storeTitleString,text:n.storeSubtitleString},{header:n.ordersTitleString,text:n.ordersSubtitleString}]};return(0,k.tZ)(Te,{...i})};var Ae=i(43963),Ze=i(66705);const _e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ValuePropsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueProps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startButtonString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemsTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemsBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemsImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updatesBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:650,source:{body:"\n  query ValuePropsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        valueProps {\n          id\n          headlineString\n          startButtonString\n          chooseTitleString\n          chooseBodyString\n          chooseImage {\n            templateUrl\n            url\n            altText\n          }\n          itemsTitleString\n          itemsBodyString\n          itemsImage {\n            templateUrl\n            url\n            altText\n          }\n          updatesBodyString\n          updatesTitleString\n          updatesImage {\n            templateUrl\n            url\n            altText\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const Be=function(){const{data:e}=(0,u.aM)(_e),n=null==e?void 0:e.viewLayout.homepage.valueProps;return n?(0,k.tZ)(Ae.Z,{header:n.headlineString,columns:[{title:n.chooseTitleString,content:n.chooseBodyString,image:n.chooseImage},{title:n.updatesTitleString,content:n.updatesBodyString,image:n.updatesImage},{title:n.itemsTitleString,content:n.itemsBodyString,image:n.itemsImage}],columnType:Ze.QD.filled,size:Ze.bg.medium,headerStyleOverrides:{textAlign:"center"}}):null},Re=(0,p.k)((e=>({imageContainer:{display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(g.spacing.s24,"px 0")},modalBackground:{zIndex:-2,width:"520px",height:"280px",[g.responsive.down("c")]:{width:"343px",height:"184px"}},couponText:{position:"absolute",fontSize:"60px",color:"#0E6148",marginBottom:"".concat(g.spacing.s12,"px"),[g.responsive.down("c")]:{fontSize:"39px"}},couponImage:{zIndex:-1,position:"absolute",width:"312px",height:"160px",[g.responsive.down("c")]:{width:"205.8px",height:"105.54px"}},heading:{...e.typography.titleLarge,textAlign:"center",color:e.colors.systemGrayscale70,[g.responsive.down("c")]:{...e.typography.titleMedium}},subheading:{...e.typography.bodyLarge2,textAlign:"center",color:e.colors.systemGrayscale70,a:{color:e.colors.systemGrayscale70},[g.responsive.down("c")]:{...e.typography.bodyMedium2}},headerContainer:{display:"flex",justifyContent:"center"},logoImage:{height:"100%"}}))),Ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShareCodeDetailsLayout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareCodeDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"shareCode"},value:{kind:"Variable",name:{kind:"Name",value:"shareCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrersName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"landingReferralsModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"couponTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsCtaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsUrlString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCloseLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headerLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"buttonTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"couponImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:642,source:{body:"\n  query ShareCodeDetailsLayout($shareCode: String!) {\n    shareCodeDetails(shareCode: $shareCode) {\n      referrersName\n      viewSection {\n        id\n        landingReferralsModal {\n          id\n          headingString\n          subheadingString\n          couponTextString\n          termsCtaString\n          termsUrlString\n          modalCloseLabelString\n          headerLogoImage {\n            id\n            resizedUrl\n          }\n          buttonTextString\n          backgroundImage {\n            id\n            resizedUrl\n          }\n          couponImage {\n            id\n            resizedUrl\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Me=e=>(0,u.aM)(Ue,{skip:!e,variables:{shareCode:e}});const We=function(e){var n;let{shareCode:i}=e;const r=(0,a.K$)({visible:!1}),o=Re(),s=()=>{r.setVisible(!1)},{data:l}=Me(i),d=null==l||null===(n=l.shareCodeDetails)||void 0===n?void 0:n.viewSection.landingReferralsModal,[c,u]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{!c&&d&&(r.setVisible(!0),u(!0))}),[c,r,d]),!d)return null;const{headingString:m,subheadingString:g,couponTextString:p,termsCtaString:v,termsUrlString:h,modalCloseLabelString:y,buttonTextString:S,headerLogoImage:f,backgroundImage:x,couponImage:b}=d;return(0,k.tZ)(k.HY,{children:(0,k.BX)(z.tX1,{hideOnClickOutside:!0,hideOnEsc:!0,modal:r,children:[(0,k.tZ)(z.xBx,{accessibleLabels:{close:y},hide:s,children:(0,k.tZ)("div",{css:o.headerContainer,children:(0,k.tZ)("img",{src:f.resizedUrl,alt:"",css:o.logoImage})})}),(0,k.tZ)(z.hzk,{children:(0,k.BX)("div",{children:[(0,k.BX)("div",{css:o.imageContainer,children:[(0,k.tZ)("img",{src:x.resizedUrl,alt:"",css:o.modalBackground}),p&&b?(0,k.BX)(k.HY,{children:[(0,k.tZ)("img",{src:b.resizedUrl,alt:"",css:o.couponImage}),(0,k.tZ)("h1",{css:o.couponText,children:p})]}):(0,k.tZ)(k.HY,{})]}),(0,k.tZ)("h2",{css:o.heading,children:m}),(0,k.BX)("p",{css:o.subheading,children:[g," ",(0,k.tZ)("a",{href:h,target:"_blank",rel:"noreferrer",children:v})]})]})}),(0,k.tZ)(z.mzw,{children:(0,k.tZ)(z.KMU,{onClick:s,children:S})})]})})},Ge=(0,p.k)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"center",paddingLeft:"136px"},mobileContainer:{display:"flex",flexDirection:"column",alignItems:"center"},textContainer:{display:"flex",flexDirection:"column",paddingTop:"80px",paddingBottom:"80px",width:"50%",maxWidth:"460px"},imageContainer:{width:"50%",display:"flex",justifyContent:"center",paddingTop:"64px",paddingBottom:"64px"},phoneNumberInputContainer:{display:"flex",flexDirection:"column"},textInputContainer:{paddingBottom:g.spacing.s24,width:"100%",borderRadius:g.spacing.s12},appLinkContainer:{display:"flex",width:"max-content",flexDirection:"row",height:"56px",justifyContent:"space-between"},appLink:{backgroundColor:e.colors.brandSecondaryLight,alignItems:"center",padding:"19px 71px",borderRadius:g.spacing.s12,marginRight:g.spacing.s16},imageCenter:{display:"flex",justifyContent:"center",alignItems:"center"},linkImage:{height:"15px",width:"15px",marginRight:"13px"},href:{textDecoration:"none",color:e.colors.systemGrayscale70,...e.typography.bodyMedium1},textButton:{fontFamily:"inherit",justifyContent:"center"},header:{...e.typography.titleLarge,fontWeight:600,color:e.colors.systemGrayscale70},subheader:{...e.typography.bodyLarge2,color:e.colors.systemGrayscale70},messageSent:{marginTop:g.spacing.s24,marginBottom:g.spacing.s24,...e.typography.bodyMedium1,color:e.colors.systemGrayscale70},image:{width:"250px",height:"490px"},mobileImage:{width:"250px",padding:"30px 60px 40px 60px"},mobileHeader:{...e.typography.titleMedium,fontWeight:600,color:e.colors.systemGrayscale70,textAlign:"center"},mobileSubheader:{...e.typography.bodyLarge2,color:e.colors.systemGrayscale50,textAlign:"center",paddingBottom:"20px"},mobileTextContainer:{padding:"0px 30px",alignItems:"center"},successMessageContainer:{display:"flex",flexDirection:"row"},checkMark:{width:"19px",height:"14px",padding:"6px 16px 6px 2px",marginTop:g.spacing.s24,marginBottom:g.spacing.s24},desktopOnly:{[g.responsive.down("c")]:{display:"none"}},mobileOnly:{[g.responsive.up("r")]:{display:"none"}}})));const qe=function(e){let{header:n,subheader:i,image_url:t,mobile_cta:a,app_download_url:r}=e;const o=Ge(),s=r.split("?")[0],l=new URLSearchParams(r.split("?")[1]).get("utm_term")||"";return(0,k.tZ)("div",{css:o.mobileOnly,children:(0,k.BX)("div",{css:o.mobileContainer,children:[(0,k.tZ)("img",{src:t,alt:"Screenshot of Instacart app features",css:o.mobileImage}),(0,k.BX)("div",{css:o.mobileTextContainer,children:[(0,k.tZ)("h3",{css:o.mobileHeader,children:n}),(0,k.tZ)("p",{css:o.mobileSubheader,children:i}),(0,k.BX)("form",{children:[(0,k.tZ)("input",{type:"hidden",name:"utm_term",value:l}),(0,k.tZ)(z.KMU,{formAction:s,css:o.textButton,children:a})]})]})]})})},Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NativeAppUpsellLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingNativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appDownloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iosAppUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"androidAppUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheaderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iosNameString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"androidNameString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaTextWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaTextMobileWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disclaimerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privacyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageSentWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneLabelPlaceholderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumberValidationErrorString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upsellImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkMarkImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"appStoreIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"playStoreIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:763,source:{body:"\n  query NativeAppUpsellLayout {\n    landingNativeAppUpsell {\n      appDownloadUrl\n      iosAppUrl\n      androidAppUrl\n      viewSection {\n        nativeAppUpsell {\n          headerString\n          subheaderString\n          iosNameString\n          androidNameString\n          ctaTextWebString\n          ctaTextMobileWebString\n          disclaimerString\n          termsString\n          privacyString\n          messageSentWebString\n          phoneLabelPlaceholderString\n          phoneNumberValidationErrorString\n          upsellImage {\n            url\n          }\n          checkMarkImage {\n            url\n          }\n          appStoreIconImage {\n            url\n          }\n          playStoreIconImage {\n            url\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const Pe=function(){const{data:e}=(0,u.aM)(Oe),n=null==e?void 0:e.landingNativeAppUpsell,i=null==n?void 0:n.viewSection.nativeAppUpsell;return i&&n?(0,k.tZ)(qe,{header:i.headerString,subheader:i.subheaderString,image_url:i.upsellImage.url,mobile_cta:i.ctaTextMobileWebString,app_download_url:n.appDownloadUrl}):null},ze=["Prospecting_Evergreen_iMAO_Web_US_IC_NonDPA_Conversion-Purchase","Prospecting_Evergreen_iMAO_WebApp_US_IC_NonDPA_Purchase_BranchTestCell"],Ve="native-app-upsell-interstitial";const He=function(e){let{titleString:n,ratingsTextString:i,offerMessageString:a,secondaryActionLabelString:o,primaryActionLabelString:s,backgroundImageUrl:l,carrotLogoImageUrl:d,carrotInstacartLogoImageUrl:c,appDownloadUrl:u,reviewStarImageUrl:m,onContinueInBrowserClicked:v,onContinueClicked:h,onVisible:y}=e;const S=(f=l,(0,p.k)((e=>({mobileSplash:{width:"100%",height:"100%",zIndex:2e4,backgroundColor:e.colors.systemGrayscale00,top:0,left:0,position:"fixed"},primaryLogo:{top:"32px",position:"absolute",width:"224px"},primaryLogoImg:{width:"100%"},freeDeliveryText:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale70,marginTop:g.spacing.s4},container:{backgroundImage:"url('".concat(f,"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",display:"flex",justifyContent:"center",height:"70vh"},titleContainer:{color:e.colors.brandSecondaryDark,textAlign:"center",margin:"".concat(g.spacing.s16,"px 0 0 0"),...e.typography.titleLarge},panelContent:{position:"relative",top:"-48px",paddingTop:"20px",paddingLeft:g.spacing.s32,paddingRight:g.spacing.s32,display:"flex",alignItems:"center",flexFlow:"column nowrap"},fixedPanel:{backgroundColor:e.colors.systemGrayscale00,bottom:"0",width:"100%",position:"fixed"},reviewText:{...e.typography.bodyMedium2,color:e.colors.brandSecondaryRegular,letterSpacing:"0",lineHeight:"18px",marginTop:"10px"},secondaryLogoContainer:{boxSizing:"content-box",width:"64px",height:"64px",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid ".concat(e.colors.systemGrayscale20),borderRadius:"10px",background:"white"},secondaryLogoImg:{maxWidth:"100%",maxHeight:"100%"},starContainer:{marginTop:"16px",display:"flex"},star:{width:"18px",marginLeft:"5px",marginRight:"5px"},logoNameImage:{maxWidth:"47%"},ctaButton:{marginTop:"-33px",paddingLeft:"20px",paddingRight:"20px",marginBottom:g.spacing.s12},skipButton:{paddingLeft:"20px",paddingRight:"20px",marginBottom:g.spacing.s12},buttonTextStyle:{":hover":{textDecoration:"none"}}})))());var f;const[x,b]=(0,t.useState)(!0),w=u.split("?")[0],N=new URLSearchParams(u.split("?")[1]),{search:F}=(0,r.useLocation)();((e,n)=>{const i=n.get("utm_campaign");i&&ze.includes(i)&&n.forEach(((n,i)=>{e.has(i)?e.set(i,n):e.append(i,n)}))})(N,new URLSearchParams(F));const C=[];for(const[e,n]of N)C.push((0,k.tZ)("input",{type:"hidden",name:e,value:n},e));return(0,t.useEffect)((()=>{x&&("undefined"!=typeof document&&(()=>{const e=document.querySelector("#".concat(Ve,'[role="dialog"]')),n=null==e?void 0:e.querySelector("#ctaPrimary"),i=null==e?void 0:e.querySelector("#ctaSecondary");null==n||n.focus(),null==e||e.addEventListener("keydown",(function(e){e.target===n&&"Tab"===e.key&&e.shiftKey?(e.preventDefault(),null==i||i.focus()):e.target!==i||"Tab"!==e.key||e.shiftKey||(e.preventDefault(),null==n||n.focus())}))})(),null==y||y())}),[y,x]),(0,t.useEffect)((()=>{x&&(document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.height="100vh")}),[x]),x?(0,k.BX)("div",{css:S.mobileSplash,role:"dialog","aria-modal":"true","aria-labelledby":"interstitial",id:Ve,children:[(0,k.tZ)("div",{css:(0,P.iv)({...S.container},""),"data-testid":"background",children:(0,k.tZ)("div",{css:S.primaryLogo,children:(0,k.tZ)("img",{css:S.primaryLogoImg,src:c,alt:"Instacart logo"})})}),(0,k.BX)("div",{css:S.fixedPanel,children:[(0,k.BX)("div",{css:S.panelContent,children:[(0,k.tZ)("div",{css:S.secondaryLogoContainer,children:(0,k.tZ)("img",{css:S.secondaryLogoImg,src:d,alt:"Instacart logo"})}),(0,k.tZ)("div",{css:S.starContainer,children:[1,2,3,4,5].map((e=>(0,k.tZ)("img",{src:m,css:S.star,alt:""},e.toString())))}),(0,k.tZ)("span",{css:S.reviewText,children:i}),(0,k.tZ)("h1",{id:"interstitial",css:S.titleContainer,children:n}),(0,k.tZ)("span",{css:S.freeDeliveryText,children:a})]}),(0,k.tZ)("div",{css:S.ctaButton,children:(0,k.BX)("form",{children:[C,(0,k.tZ)(z.KMU,{id:"ctaPrimary","data-testid":"ctaPrimary",formAction:w,onClick:h,children:s})]})}),(0,k.tZ)("div",{css:S.skipButton,children:(0,k.tZ)(z.kqC,{id:"ctaSecondary","data-testid":"ctaSecondary",onClick:()=>{b(!1),document.body.style.overflowY="",document.documentElement.style.overflowY="",document.body.style.height="",null==v||v()},children:o})})]})]}):(0,k.tZ)("div",{})};var Ee=i(9401),Xe=i(96749);const je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NativeAppUpsellInterstitial"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingNativeAppUpsellInterstitial"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appDownloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"easeRestrictionVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offerMessageString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryActionLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaryActionLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingsTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"carrotInstacartLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"carrotLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewStarImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:592,source:{body:"\n  query NativeAppUpsellInterstitial {\n    landingNativeAppUpsellInterstitial {\n      appDownloadUrl\n      viewSection {\n        nativeAppUpsell {\n          easeRestrictionVariant\n          offerMessageString\n          primaryActionLabelString\n          secondaryActionLabelString\n          titleString\n          ratingsTextString\n          backgroundImage {\n            url\n          }\n          carrotInstacartLogoImage {\n            url\n          }\n          carrotLogoImage {\n            url\n          }\n          reviewStarImage {\n            url\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const $e=function(){const{data:e}=(0,u.aM)(je,n);var n;const i=null==e?void 0:e.landingNativeAppUpsellInterstitial,a=null==i?void 0:i.viewSection.nativeAppUpsell,r=(0,Ee.i)(),{trackEvent:o}=(0,F.r)(),s=(0,t.useCallback)((()=>{o("app_download.view",{source:"logout",source_value:"m3"}),"undefined"!=typeof document&&(0,Xe.d8)("m3_app_download_banner","true",{expires:1})}),[o]);return r&&i&&a?"true"!==a.easeRestrictionVariant&&r&&"true"===(0,Xe.ej)("m3_app_download_banner")?null:(0,k.tZ)(He,{titleString:a.titleString,ratingsTextString:a.ratingsTextString,offerMessageString:a.offerMessageString,primaryActionLabelString:a.primaryActionLabelString,secondaryActionLabelString:a.secondaryActionLabelString,backgroundImageUrl:a.backgroundImage.url,appDownloadUrl:i.appDownloadUrl,carrotInstacartLogoImageUrl:a.carrotInstacartLogoImage.url,carrotLogoImageUrl:a.carrotLogoImage.url,reviewStarImageUrl:a.reviewStarImage.url,onContinueInBrowserClicked:()=>{o("app_download.click",{source:"continue_in_browser",source_value:"m3"})},onContinueClicked:()=>{o("app_download.click",{source:"continue",source_value:"m3"})},onVisible:s}):null},Qe=(0,p.k)((e=>({body:{backgroundColor:e.colors.systemGrayscale00},container:{margin:"0 auto",maxWidth:"1152px"},qrBannerContainer:{marginBottom:"16px"}})));var Ye=i(76742),Ke=i(13883);const Je=(0,Ke.Td)({featureVariantType:Ke.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_search_bar",variants:["existing_background","dark_background"]}}),en=(0,Ke.Td)({featureVariantType:Ke.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_mobile_homepage_search_bar",variants:["variant"]}});const nn=function(){var e,n;const{storedLocation:i,storedCity:a}=(0,me.m)(),r=(0,$.Z)(),o=(null==i?void 0:i.postalCode)||(a?null:r.postalCode),s=null==i||null===(e=i.coordinates)||void 0===e?void 0:e.latitude,l=null==i||null===(n=i.coordinates)||void 0===n?void 0:n.longitude,c=s&&l?{latitude:s,longitude:l}:void 0,{data:u}=((e,n)=>(0,R.eG)({skip:!e&&!n,variables:{postalCode:e,coordinates:n}}))(o,c),m=(0,t.useMemo)((()=>null==u?void 0:u.availableRetailerServicesWithoutAuth.map((e=>e.retailer.id))),[null==u?void 0:u.availableRetailerServicesWithoutAuth]),g=(0,d.d)(),{visible:p}=en(),{visible:v,loading:h}=Je({skip:g&&!p}),y=v;return h?null:(0,k.tZ)(Ye.Z,{retailerIds:m,postalCode:o||void 0,showSearchBar:v,isSticky:y})};var tn={name:"l0mio9",styles:"display:none;visibility:hidden"};const an=function(){var e;const n=Qe(),{search:i}=(0,r.useLocation)(),c=new URLSearchParams(i).get("code"),{data:u}=Me(c),m=null==u||null===(e=u.shareCodeDetails)||void 0===e?void 0:e.referrersName,g=(0,a.K$)({visible:!1}),[p,v]=(0,t.useState)("delivery"),y=(0,d.d)(),{visible:S}=(0,le.l0)(),f=(0,t.useMemo)((()=>({user_channel_1:"home",user_channel_2:m?"referrals":"home",user_channel_4:m?null==c?void 0:c.toLowerCase():""})),[m,c]);return(0,k.BX)(s.GH,{value:{properties:f},children:[(0,k.tZ)(l.Z,{}),(0,k.BX)(pe,{children:[y&&(0,k.tZ)($e,{}),(0,k.tZ)(We,{shareCode:c}),S&&(0,k.tZ)(h,{threeFreeDelivery:!0}),(0,k.tZ)("header",{children:(0,k.tZ)(nn,{})}),(0,k.BX)("main",{children:[(0,k.tZ)(we,{addressModalState:g,activeService:p,setActiveService:v}),(0,k.tZ)("a",{css:tn,href:"/rest/v8/store/hub",children:"Main"}),(0,k.tZ)("div",{css:n.body,children:(0,k.BX)("div",{css:n.container,children:[(0,k.tZ)(Be,{}),y&&(0,k.tZ)(Pe,{}),(0,k.tZ)(De,{}),(0,k.tZ)(b,{})]})})]}),(0,k.tZ)("footer",{children:(0,k.tZ)("div",{children:(0,k.tZ)(o.Z,{})})})]})]})}},1761:(e,n,i)=>{i.d(n,{o:()=>l});var t=i(83162),a=i(83457);const r=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"10px 0 10px 0"},question:{alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",margin:"10px 0",padding:0,width:"100%",color:e.colors.systemGrayscale70,height:"auto",fontSize:"22px",fontWeight:600,whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.down("c")]:{fontSize:"18px"}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"16px"},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"16px",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 40px 10px 0"},closeAnswer:{display:"none"}}))),o=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"16px 0",[a.responsive.up("r")]:{padding:"24px 0"}},question:{alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",width:"100%",color:"#424242",padding:0,height:"auto",fontSize:"24px",lineHeight:"36px",fontWeight:"normal",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{fontSize:"28px",lineHeight:"32px"}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"16px",lineHeight:"26px",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"}}))),s=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,cursor:"pointer",alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"}}))),l={base:r,homepage:o,productpage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),promospage:s,locationspage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,cursor:"pointer",padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"15px",lineHeight:"22px",color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),affiliatepage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"".concat(a.spacing.s12,"px 0")},question:{...e.typography.bodyMedium1,alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",margin:"".concat(a.spacing.s12,"px 0"),padding:0,width:"100%",color:e.colors.systemGrayscale70,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased"},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"16px",color:e.colors.systemGrayscale30},answerWrapper:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale70,height:"0px",transition:"height 0.5s",overflow:"hidden",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"".concat(a.spacing.s12,"px ").concat(a.spacing.s16,"px ").concat(a.spacing.s12,"px 0")},closeAnswer:{display:"none"}}))),taxonomypage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},lastRoot:{padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 0 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px"},closeAnswer:{display:"none"}}))),storepage:(0,t.k)((e=>({header:{margin:0},root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,fontWeight:600,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,fontWeight:400,height:"0px",transition:"height 0.5s",overflow:"hidden",color:e.colors.brandSecondaryRegular,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.brandSecondaryRegular,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),klarnaPage:s,freshFunds:s,mWebPlaDesignRefresh:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20)},question:{...e.typography.bodyMedium1,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale80,padding:16,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased"},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0 0 0 8%",color:e.colors.systemGrayscale60},answerWrapper:{...e.typography.bodyMedium2,height:"0px",transition:"height 0.5s",overflow:"hidden",color:e.colors.systemGrayscale80,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"0 15% ".concat(a.spacing.s24,"px ").concat(a.spacing.s16,"px"),color:e.colors.systemGrayscale80},closeAnswer:{display:"none"},links:{...e.typography.linkSmall,color:e.colors.systemGrayscale80,textDecoration:"underline",textUnderlineOffset:3}})))}},69373:(e,n,i)=>{i.d(n,{Z:()=>C});var t=i(0),a=i(83457),r=i(80573),o=i(7356),s=i(83162),l=i(38839);const d=(0,s.k)((e=>({link:{color:e.colors.brandPrimaryRegular,textDecoration:"none"}})));const c=function(e){let{formattedAnswer:n,linkStrings:i}=e;const t=d(),s=e=>((e,n)=>{if(!n)return"";switch(e){case"external_help_link":return"https://".concat(n.externalHelpLinkString);case"external_pay_info_link":return"https://".concat(n.externalPayInfoLinkString);case"external_terms_link":return"https://".concat(n.externalTermsLinkString);case"internal_help_link":return"/".concat(n.internalHelpLinkString);case"internal_terms_link":return"/".concat(n.internalTermsLinkString);default:return r.Z.error("unknown link passed for klarna FAQs",{owner:o.Z.orders,linkName:e}),""}})(e,i);return(0,l.tZ)(l.HY,{children:n.sections.map((e=>e.name?(0,l.tZ)("a",{css:t.link,href:s(e.name),target:"_blank",rel:"noopener noreferrer",children:e.content},e.name):(0,l.tZ)(a.Text,{as:"span",typography:"bodyMedium2",color:"systemGrayscale50",children:e.content},e.content)))})};var u=i(3533),m=i(1761);const g=function(e){let{answer:n,last:i,question:r,style:o,trackFn:s,focusRef:d,formattedAnswer:g,linkStrings:p}=e;const[v,k]=(0,t.useState)(!1),{trackEvent:h}=(0,u.r)();(0,t.useEffect)((()=>{null!=d&&d.current&&d.current.focus()}),[d]);const y=m.o[o]||m.o.base,S=y?y():{},f="faq-".concat(r.replace(/\W+/g,"-").toLowerCase());return(0,l.BX)("div",{css:"taxonomypage"!==o&&"affiliatepage"!==o||!i?S.root:S.lastRoot,children:[(0,l.tZ)("h3",{children:(0,l.BX)("button",{css:S.question,onClick:()=>{s?s():h("signup.button_press",{source:"faq",source_value:r}),k((e=>!e))},"aria-controls":f,"aria-expanded":v,ref:d,children:[r,(0,l.tZ)("div",{css:S.iconWrapper,children:"mWebPlaDesignRefresh"===o?(0,l.tZ)(l.HY,{children:v?(0,l.tZ)(a.ChevronUpIcon,{size:24}):(0,l.tZ)(a.ChevronDownIcon,{size:24})}):(0,l.tZ)(l.HY,{children:v?(0,l.tZ)(a.SubtractIcon,{size:24}):(0,l.tZ)(a.AddIcon,{size:24})})})]})}),(0,l.BX)("div",{css:[S.answerWrapper,v?S.expandedAnswer:S.closeAnswer,""],id:f,children:[n,g&&(p||"freshFunds"===o)&&(0,l.tZ)(c,{formattedAnswer:g,linkStrings:p})]})]})},p=(0,s.k)((e=>({wrapper:{maxWidth:"1260px",margin:"0 auto"},root:{backgroundColor:e.colors.systemGrayscale00,padding:a.spacing.s32,[a.responsive.down("r")]:{padding:a.spacing.s8}},title:{...e.typography.titleLarge,fontWeight:600,marginBottom:a.spacing.s32,[a.responsive.down("r")]:{...e.typography.titleMedium}}}))),v=(0,s.k)((e=>({wrapper:{maxWidth:"950px",margin:"0 auto",padding:"".concat(a.spacing.s32,"px ").concat(a.spacing.s32,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px"}},root:{padding:0},title:{...e.typography.titleLarge,fontSize:"28px",lineHeight:"32px",textAlign:"center",fontWeight:"normal",marginBottom:a.spacing.s32,color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{...e.typography.titleLarge,fontWeight:400,marginBottom:a.spacing.s24},[a.responsive.down("c")]:{fontSize:"23px"}}}))),k=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleLarge,fontSize:"18px",lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),h=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"0"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px"}}))),y=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s32,"px ").concat(a.spacing.s32,"px 60px")},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),S=(0,s.k)((e=>({wrapper:{color:e.colors.systemGrayscale70,maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),f=(0,s.k)((e=>({wrapper:{margin:"0 auto"},root:{backgroundColor:e.colors.systemGrayscale00,[a.responsive.down("r")]:{padding:a.spacing.s8}},title:{...e.typography.titleMedium}}))),x=(0,s.k)((e=>({wrapper:{width:"100%",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",width:"100%",margin:"0 auto"},title:{...e.typography.subtitleLarge,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),b=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"0",[a.responsive.down("l")]:{padding:"0 ".concat(a.spacing.s16,"px")}},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleLarge,lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px",color:"#003D29"},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"12px",marginBottom:"24px"},button:{...e.typography.bodyLarge1,maxWidth:"185px",maxHeight:"48px",background:"#0AAD0A",borderRadius:"44px"}}))),w={base:p,homepage:v,productpage:k,taxonomypage:y,promospage:h,locationspage:S,affiliatepage:f,storepage:x,klarnaPage:b,freshFunds:b,mWebPlaDesignRefresh:(0,s.k)((e=>({wrapper:{maxWidth:"1152px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%"},title:{...e.typography.subtitleLarge,color:e.colors.systemGrayscale80,padding:"".concat(a.spacing.s16,"px 0 6px ").concat(a.spacing.s16,"px")}})))};var N=i(55645),F=i(7335);const C=function(e){let{title:n,faqs:i,style:a,trackFn:r,showMore:o,showLess:s,useExpandButton:d}=e;const{t:c}=(0,F.F)(["globals.faqs"]),u=(0,t.useRef)(null),m=(w[a]||w.base)(),[p,v]=(0,t.useState)(!d),k=p?i.length:6,h=i.length>6;return(0,l.tZ)("div",{css:m.wrapper,children:(0,l.BX)("div",{css:m.root,children:[n&&(0,l.tZ)("h2",{css:m.title,children:n}),(0,l.tZ)("div",{children:i.slice(0,k).map(((e,n)=>(0,l.tZ)(g,{question:e.question,answer:e.answer,formattedAnswer:e.formattedAnswer,linkStrings:e.linkStrings,style:a,last:n===i.length-1,trackFn:r,focusRef:6===n&&d?u:void 0},e.question)))}),d&&(0,l.tZ)("div",{css:m.buttonContainer,children:h&&(0,l.tZ)(N.KMU,{css:m.button,onClick:()=>{v(!p)},children:k<i.length?o||c("faqs.show_more"):s||c("faqs.show_less")})})]})})}},79685:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(0);function a(e,n,i){void 0===i&&(i={});var a=i.maxWait,r=(0,t.useRef)(null),o=(0,t.useRef)([]),s=i.leading,l=void 0===i.trailing||i.trailing,d=(0,t.useRef)(!1),c=(0,t.useRef)(null),u=(0,t.useRef)(!1),m=(0,t.useRef)(e);m.current=e;var g=(0,t.useCallback)((function(){clearTimeout(c.current),clearTimeout(r.current),r.current=null,o.current=[],c.current=null,d.current=!1}),[]);(0,t.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var p=(0,t.useCallback)((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];o.current=e,clearTimeout(c.current),d.current&&(d.current=!1),c.current||!s||d.current||(m.current.apply(m,e),d.current=!0),c.current=setTimeout((function(){var n=!0;s&&d.current&&(n=!1),g(),!u.current&&l&&n&&m.current.apply(m,e)}),n),a&&!r.current&&l&&(r.current=setTimeout((function(){var e=o.current;g(),u.current||m.current.apply(null,e)}),a))}),[a,n,g,s,l]),v=(0,t.useCallback)((function(){c.current&&(m.current.apply(null,o.current),g())}),[g]);return[p,g,v]}},3803:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(0);var a=function(e,n,i){return e[n]?e[n][0]?e[n][0][i]:e[n][i]:"contentBoxSize"===n?e.contentRect["inlineSize"===i?"width":"height"]:void 0};function r(e){void 0===e&&(e={});var n=e.onResize,i=(0,t.useRef)(void 0);i.current=n;var r=e.round||Math.round,o=(0,t.useRef)(),s=(0,t.useState)({width:void 0,height:void 0}),l=s[0],d=s[1],c=(0,t.useRef)(!1);(0,t.useEffect)((function(){return function(){c.current=!0}}),[]);var u,m,g,p,v,k,h=(0,t.useRef)({width:void 0,height:void 0}),y=(u=(0,t.useCallback)((function(n){return o.current&&o.current.box===e.box&&o.current.round===r||(o.current={box:e.box,round:r,instance:new ResizeObserver((function(n){var t=n[0],o="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",s=a(t,o,"inlineSize"),l=a(t,o,"blockSize"),u=s?r(s):void 0,m=l?r(l):void 0;if(h.current.width!==u||h.current.height!==m){var g={width:u,height:m};h.current.width=u,h.current.height=m,i.current?i.current(g):c.current||d(g)}}))}),o.current.instance.observe(n,{box:e.box}),function(){o.current&&o.current.instance.unobserve(n)}}),[e.box,r]),m=e.ref,g=(0,t.useRef)(null),p=(0,t.useRef)(null),v=(0,t.useRef)(),k=(0,t.useCallback)((function(){var e=null;g.current?e=g.current:m&&(e=m instanceof HTMLElement?m:m.current),p.current&&p.current.element===e&&p.current.reporter===k||(v.current&&(v.current(),v.current=null),p.current={reporter:k,element:e},e&&(v.current=u(e)))}),[m,u]),(0,t.useEffect)((function(){k()}),[k]),(0,t.useCallback)((function(e){g.current=e,k()}),[k]));return(0,t.useMemo)((function(){return{ref:y,width:l.width,height:l.height}}),[y,l?l.width:null,l?l.height:null])}},30879:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(37615);const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const r=function(e){return"string"==typeof e&&a.test(e)};const o=function(e){if(!r(e))throw TypeError("Invalid UUID");let n;const i=new Uint8Array(16);return i[0]=(n=parseInt(e.slice(0,8),16))>>>24,i[1]=n>>>16&255,i[2]=n>>>8&255,i[3]=255&n,i[4]=(n=parseInt(e.slice(9,13),16))>>>8,i[5]=255&n,i[6]=(n=parseInt(e.slice(14,18),16))>>>8,i[7]=255&n,i[8]=(n=parseInt(e.slice(19,23),16))>>>8,i[9]=255&n,i[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=n/4294967296&255,i[12]=n>>>24&255,i[13]=n>>>16&255,i[14]=n>>>8&255,i[15]=255&n,i};function s(e,n,i,t){switch(e){case 0:return n&i^~n&t;case 1:case 3:return n^i^t;case 2:return n&i^n&t^i&t}}function l(e,n){return e<<n|e>>>32-n}const d=function(e,n,i){function a(e,a,r,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const n=[];for(let i=0;i<e.length;++i)n.push(e.charCodeAt(i));return n}(e)),"string"==typeof a&&(a=o(a)),16!==(null===(l=a)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+e.length);if(d.set(a),d.set(e,a.length),d=i(d),d[6]=15&d[6]|n,d[8]=63&d[8]|128,r){s=s||0;for(let e=0;e<16;++e)r[s+e]=d[e];return r}return(0,t.S)(d)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}("v5",80,(function(e){const n=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const n=unescape(encodeURIComponent(e));e=[];for(let i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const t=e.length/4+2,a=Math.ceil(t/16),r=new Array(a);for(let n=0;n<a;++n){const i=new Uint32Array(16);for(let t=0;t<16;++t)i[t]=e[64*n+4*t]<<24|e[64*n+4*t+1]<<16|e[64*n+4*t+2]<<8|e[64*n+4*t+3];r[n]=i}r[a-1][14]=8*(e.length-1)/Math.pow(2,32),r[a-1][14]=Math.floor(r[a-1][14]),r[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const t=new Uint32Array(80);for(let n=0;n<16;++n)t[n]=r[e][n];for(let e=16;e<80;++e)t[e]=l(t[e-3]^t[e-8]^t[e-14]^t[e-16],1);let a=i[0],o=i[1],d=i[2],c=i[3],u=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),r=l(a,5)+s(i,o,d,c)+u+n[i]+t[e]>>>0;u=c,c=d,d=l(o,30)>>>0,o=a,a=r}i[0]=i[0]+a>>>0,i[1]=i[1]+o>>>0,i[2]=i[2]+d>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+u>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}))}}]);