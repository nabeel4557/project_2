!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="00d16de3-ee75-421f-a186-d3d5da7fe07a",e._sentryDebugIdIdentifier="sentry-dbid-00d16de3-ee75-421f-a186-d3d5da7fe07a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"landing-client@7106377e40f37b1255bcecf1c8a220b540dd76f8"},(self.webpackChunk=self.webpackChunk||[]).push([[3895],{1258:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(55215);const a=async e=>{await(0,t.Z)("/v3/user_onboarding/recreate",{method:"POST",body:e||{}}),window.location.assign("/onboarding")}},7617:(e,n,i)=>{i.d(n,{D:()=>r});var t=i(33182),a=i(7943);function r(){return a.M.select((0,t.F)()).country}},60655:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(0),a=i(82390),r=i(54785),o=i(7617),s=i(4707),l=i(5834);const d=function(){const{trackEvent:e}=(0,s.r)(),{properties:n}=(0,l.EF)(),i=(0,a.d)(),d=(0,o.D)();return(0,t.useEffect)((()=>{(async()=>{const{getVisitToken:e,getVisitorToken:t}=await(0,r.vM)(),a={visitToken:e(),visitorToken:t()};(0,r.D_)({ahoy:a,country:d,isMobile:i,...n})})()}),[d,i,n]),(0,t.useEffect)((()=>{e("flow_start"),e("landing")}),[e]),null}},64353:(e,n,i)=>{i.d(n,{$:()=>p});var t,a=i(75246),r=i(1),o=i.n(r),s=i(38839);const l=(0,a.F4)(t||(d=["\n  0% { transform: rotate(0deg) }\n  100% { transform: rotate(359deg) }\n"],c||(c=d.slice(0)),t=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(c)}}))));var d,c;const u={spinner:{height:"20px",width:"20px",margin:"0 auto",position:"relative",animation:"".concat(l," 10s linear infinite"),border:"3px solid rgba(163, 163, 163, 0.3)",borderRadius:"100%"},before:{display:"block",position:"absolute",left:0,top:"-3px",height:"100%",width:"100%",borderTop:"3px solid rgba(186, 186, 186, 0.8)",borderLeft:"3px solid transparent",borderBottom:"3px solid transparent",borderRight:"3px solid transparent",borderRadius:"100%"}},m=e=>(0,s.tZ)("div",{css:(0,a.iv)({width:"100%",background:"transparent",...e.style},""),"aria-hidden":!0,children:(0,s.tZ)("div",{css:[u.spinner,e.spinnerStyles,""],"data-testid":"spinner",children:(0,s.tZ)("div",{css:[u.before,e.beforeStyles,""]})})});m.propTypes={style:o().shape({}),spinnerStyles:o().shape({}),beforeStyles:o().shape({})};const p=m},20410:(e,n,i)=>{i.d(n,{M:()=>a});const t=()=>Object.prototype.hasOwnProperty.call(window,"branch"),a=e=>{if(t())e();else{let n=0;const i=window.setInterval((async()=>{n>5&&clearInterval(i),n+=1,t()&&(clearInterval(i),e())}),1e3)}}},87856:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(83457);const a=(0,i(83162).k)((e=>({container:{margin:"".concat(t.spacing.s32,"px auto"),maxWidth:"1152px",width:"100%",[t.responsive.down("c")]:{margin:"0 auto"}},componentWrapper:{padding:"0 ".concat(t.spacing.s16,"px"),[t.responsive.down("c")]:{margin:"".concat(t.spacing.s24,"px auto")}},header:{...e.typography.titleLarge,marginBottom:t.spacing.s16,color:e.colors.systemGrayscale70,textAlign:"left"},headerWithAddressModal:{...e.typography.titleLarge,marginBottom:t.spacing.s16,color:e.colors.systemGrayscale70,textAlign:"center"},headerRegion:{color:e.colors.brandPrimaryRegular,cursor:"pointer",outline:"none",":hover":{textDecoration:"underline"},":focus":{textDecoration:"underline"}},subHeader:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale50,marginBottom:t.spacing.s16,width:"100%"},retailerContainerLink:{textDecoration:"none",cursor:"pointer",width:"100%",height:"100%"},retailerContainer:{background:"none",border:"none",textAlign:"left",fontFamily:"inherit",padding:0,[t.responsive.up("r")]:{boxShadow:"rgba(0, 0, 0, 0.16) 0px 2px 8px",borderRadius:"12px",":hover":{boxShadow:"rgba(0, 0, 0, 0.32) 0px 2px 8px"}}},retailerContentContainer:{display:"flex",flexDirection:"row",padding:12,boxSizing:"border-box",alignItems:"center",width:"100%",height:"100%",[t.responsive.down("c")]:{padding:"".concat(t.spacing.s12,"px ").concat(t.spacing.s16,"px")}},retailerTextContainer:{flexGrow:1,marginLeft:12,overflow:"hidden",[t.responsive.up("r")]:{whiteSpace:"nowrap"}},retailerName:{...e.typography.bodyLarge1,color:e.colors.systemGrayscale70,margin:0,overflow:"hidden",textOverflow:"ellipsis"},retailerAddress:{...e.typography.bodySmall1,color:e.colors.systemGrayscale70,margin:0,overflow:"hidden",textOverflow:"ellipsis"},retailerAttributeList:{marginTop:t.spacing.s4,display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:t.spacing.s4,columnGap:t.spacing.s4},retailerAttribute:{...e.typography.bodySmall1,color:e.colors.systemGrayscale50,padding:"".concat(t.spacing.s4,"px ").concat(t.spacing.s8,"px"),border:"1px solid ".concat(e.colors.systemGrayscale30),borderRadius:e.radius.r4},retailerServices:{...e.typography.bodySmall1,color:e.colors.systemGrayscale70,margin:0},retailerEta:{color:e.colors.brandPrimaryRegular},retailerEtaIcon:{verticalAlign:-4},retailerLinkArrow:{display:"none",[t.responsive.down("c")]:{display:"block"}},retailerLogo:{display:"block",height:60,width:60,borderRadius:29,border:"1px solid ".concat(e.colors.systemGrayscale20)},gridContainer:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},gridContainerRetailers:{width:"100%",maxWidth:1280,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(344px, 1fr))",gap:t.spacing.s24,justifyContent:"center",padding:"".concat(t.spacing.s8,"px 0 0 0"),margin:0,listStyleType:"none",[t.responsive.down("c")]:{gridTemplateColumns:"1fr",rowGap:"0"}},divider:{display:"inline-block",marginLeft:t.spacing.s4,marginRight:t.spacing.s4},showAllButton:{...e.typography.bodyLarge1,marginTop:t.spacing.s32,":hover":{textDecoration:"underline"},":focus":{textDecoration:"underline"},color:e.colors.brandPrimaryRegular,background:"none",border:"none",cursor:"pointer",outline:"none",fontFamily:"inherit",[t.responsive.down("c")]:{marginTop:t.spacing.s24}},categories:{...e.typography.bodyMedium1,color:e.colors.systemGrayscale50,display:"block"},desktopOnly:{[t.responsive.down("c")]:{display:"none"}},mobileOnly:{[t.responsive.up("r")]:{display:"none"}},icon:{paddingRight:0},storeCardAnchor:{[t.responsive.down("c")]:{padding:"12px 0px"}},storeCardEta:{...e.typography.bodySmall1,margin:"0px",[t.responsive.down("c")]:{...e.typography.bodyMedium1}},storeCardAttributes:{...e.typography.bodySmall1,[t.responsive.down("c")]:{...e.typography.bodyMedium1,marginTop:"4px"}}})))},43963:(e,n,i)=>{i.d(n,{Z:()=>t.Z});var t=i(55018)},1843:(e,n,i)=>{i.d(n,{DE:()=>r});var t=i(34436);const a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"HomepageGuestUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"streetAddress"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createGuestUserWithAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"streetAddress"},value:{kind:"Variable",name:{kind:"Name",value:"streetAddress"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UsersAuthToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SharedError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorTypes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:284,source:{body:"\n  mutation HomepageGuestUser($streetAddress: String!, $postalCode: String!) {\n    createGuestUserWithAddress(streetAddress: $streetAddress, postalCode: $postalCode) {\n      ... on UsersAuthToken {\n        token\n      }\n      ... on SharedError {\n        errorTypes\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r=()=>(0,t.Db)(a)},2014:(e,n,i)=>{i.d(n,{ys:()=>r,Qe:()=>o,Pu:()=>s,Cy:()=>d,ZL:()=>u});var t=i(34436);const a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HeroSectionLayout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"geolocated"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"geolocated"},value:{kind:"Variable",name:{kind:"Name",value:"geolocated"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hero"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentLocationString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"getEverythingYouNeedString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geolocationErrorString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"freeDeliveryOrPickupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"refreshedHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startShoppingInString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputPlaceholderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitedStatesString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canadaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"australiaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterAddressString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clearAddressString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addressNavigationInstructionsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFound0String"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFound1String"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsFoundNString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"findStoreString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterAddressFirstString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accountExistsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loginString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mobileBackgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"768"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"serviceTypeLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"428"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"usFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"caFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"auFlagImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"countryChooserArrowImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"actionableHeroImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activationPostAddressVariant"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1491,source:{body:"\n  query HeroSectionLayout($geolocated: Boolean) {\n    viewLayout {\n      id\n      homepage(geolocated: $geolocated) {\n        id\n        hero {\n          id\n          currentLocationString\n          headingString\n          getEverythingYouNeedString\n          geolocationErrorString\n          freeDeliveryOrPickupString\n          refreshedHeadingString\n          startShoppingInString\n          subheadingString\n          inputPlaceholderString\n          unitedStatesString\n          canadaString\n          australiaString\n          enterAddressString\n          clearAddressString\n          addressNavigationInstructionsString\n          resultsFound0String\n          resultsFound1String\n          resultsFoundNString\n          findStoreString\n          enterAddressFirstString\n          loadingString\n          accountExistsString\n          loginString\n          signupString\n          mobileBackgroundImage {\n            resizedUrl(width: 768)\n          }\n          serviceTypeLabelString\n          pickupString\n          deliveryString\n          backgroundImage {\n            resizedUrl(height: 428)\n          }\n          usFlagImage {\n            url\n          }\n          caFlagImage {\n            url\n          }\n          auFlagImage {\n            url\n          }\n          countryChooserArrowImage {\n            url\n          }\n          actionableHeroImage {\n            templateUrl\n            altText\n          }\n          activationPostAddressVariant\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomepageAutoCompleteLocations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autocompleteLocations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streetAddress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lineOneString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineTwoString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:329,source:{body:"\n  query HomepageAutoCompleteLocations($query: String!) {\n    autocompleteLocations(query: $query) {\n      locations {\n        streetAddress\n        postalCode\n        coordinates {\n          latitude\n          longitude\n        }\n        viewSection {\n          lineOneString\n          lineTwoString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomepageCurrentLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"coordinates"}},type:{kind:"NamedType",name:{kind:"Name",value:"CoordinatesInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addressFromCoordinates"},arguments:[{kind:"Argument",name:{kind:"Name",value:"coordinates"},value:{kind:"Variable",name:{kind:"Name",value:"coordinates"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streetAddress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lineOneString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineTwoString"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:305,source:{body:"\n  query HomepageCurrentLocation($coordinates: CoordinatesInput) {\n    addressFromCoordinates(coordinates: $coordinates) {\n      streetAddress\n      postalCode\n      coordinates {\n        latitude\n        longitude\n      }\n      viewSection {\n        lineOneString\n        lineTwoString\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},s=e=>(0,t.aM)(a,e),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopRetailersList"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noGeoRetailerList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showNoGeoRetailerListVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonTextString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:217,source:{body:"\n  query TopRetailersList {\n    viewLayout {\n      id\n      homepage {\n        id\n        noGeoRetailerList {\n          id\n          showNoGeoRetailerListVariant\n          buttonTextString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},d=function(){let{skip:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.aM)(l,{skip:e})},c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersListLogo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"retailers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:223,source:{body:"\n  query RetailersListLogo($ids: [ID!]!) {\n    retailers(ids: $ids) {\n      id\n      name\n      viewSection {\n        id\n        logoImage {\n          url\n          templateUrl\n          altText\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},u=e=>{let{skip:n,retailerIds:i}=e;return(0,t.aM)(c,{skip:n,variables:{ids:i}})}},23463:(e,n,i)=>{i.d(n,{A:()=>d,m:()=>c});var t=i(0),a=i(74927),r=i(96749),o=i(64506),s=i(14334),l=i(53298);const d=e=>e.viewSection.lineTwoString.split(",")[0],c=()=>{const e=(n=o.Sk,l.Q.select((0,s.F)())[n]);var n;const[i,c]=(0,t.useState)(Boolean(e)),[u,m]=(0,t.useState)();(0,t.useEffect)((()=>{const n=localStorage?localStorage.getItem(a.Zn):void 0,i=n?JSON.parse(n):void 0;c(Boolean(i)),m(i),i&&!e?(0,r.d8)(o.Sk,d(i),{expires:30}):e&&!i&&(0,r.kT)(o.Sk)}),[e]);return{storedLocation:u,storedCity:u?d(u):i?e:void 0,setStoredLocation:e=>{localStorage.setItem(a.Zn,JSON.stringify(e)),(0,r.d8)(o.Sk,d(e),{expires:30}),m(e),c(!0)}}}},45611:(e,n,i)=>{i.d(n,{l0:()=>a,Q5:()=>r,e2:()=>o});var t=i(13883);const a=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"activation_homepage_free_delivery_banner",variants:["variant"]},userLifecycleDependency:{statuses:[t.J0.new]}}),r=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_open_signup_only_geo",variants:["variant"]}}),o=(0,t.Td)({featureVariantType:t.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_retailer_opens_signup",variants:["variant"]}})},87586:(e,n,i)=>{i.r(n),i.d(n,{default:()=>gn});var t=i(0),a=i(3823),r=i(3946),o=i(93729),s=i(6340),l=i(60655),d=i(82390),c=i(39615),u=i(34436);const m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeDeliveryBannerLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingFreeDeliveryBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"termsApplyUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTermsApplyUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeDeliveryTextStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"freeDeliveryTextMobileStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTextStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"threeFreeDeliveryTextMobileStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"deliveryIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:725,source:{body:"\n  query FreeDeliveryBannerLayout {\n    landingFreeDeliveryBanner {\n      termsApplyUrl\n      threeFreeDeliveryTermsApplyUrl\n      viewSection {\n        freeDeliveryTextStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        freeDeliveryTextMobileStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        threeFreeDeliveryTextStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        threeFreeDeliveryTextMobileStringFormatted {\n          sections {\n            name\n            content\n          }\n        }\n        deliveryIconImage {\n          url\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var p=i(83457),g=i(83162);const v=(0,g.k)((e=>({flexContainer:{...e.typography.bodySmall1,width:"100%",display:"flex",backgroundColor:e.colors.brandPromotionalRegular,color:e.colors.brandPromotionalLight,height:"36px",[p.responsive.up("r")]:{height:"56px",...e.typography.subtitleLarge}},flexItem:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,margin:"auto"},icon:{verticalAlign:"middle",width:"36px",height:"36px",[p.responsive.down("c")]:{marginLeft:p.spacing.s8,width:"24px",height:"24px"}},defaultText:{fontWeight:"normal",margin:"0px ".concat(p.spacing.s8,"px"),[p.responsive.down("c")]:{display:"none"}},mobileText:{fontWeight:"normal",margin:"0px ".concat(p.spacing.s8,"px"),[p.responsive.up("r")]:{display:"none"}},freeDelivery:{...e.typography.bodyLarge1,[p.responsive.down("c")]:{...e.typography.bodySmall1}},termsApply:{fontWeight:"normal",color:e.colors.brandPromotionalLight,textDecorationSkipInk:"none"}})));var k=i(38839);const h=function(e){let{threeFreeDelivery:n}=e;const i=v(),{data:t}=(0,u.aM)(m),a=null==t?void 0:t.landingFreeDeliveryBanner;if(!a)return null;const r=n?a.viewSection.threeFreeDeliveryTextMobileStringFormatted.sections:a.viewSection.freeDeliveryTextMobileStringFormatted.sections,o=n?a.viewSection.threeFreeDeliveryTextStringFormatted.sections:a.viewSection.freeDeliveryTextStringFormatted.sections,s=e=>(0,k.tZ)("span",{css:i.freeDelivery,children:e}),l=e=>n?(0,k.tZ)("a",{css:i.termsApply,href:a.threeFreeDeliveryTermsApplyUrl,target:"_blank",rel:"noopener noreferrer",children:e}):(0,k.tZ)("a",{css:i.termsApply,href:a.termsApplyUrl,target:"_blank",rel:"noopener noreferrer",children:e});return(0,k.tZ)("div",{css:i.flexContainer,children:(0,k.BX)("div",{css:i.flexItem,children:[(0,k.tZ)("img",{css:i.icon,alt:"",src:a.viewSection.deliveryIconImage.url}),(0,k.tZ)("span",{css:i.mobileText,children:(0,c.WU)(r,{},{free_text:s,terms_link:l})}),(0,k.tZ)("span",{css:i.defaultText,children:(0,c.WU)(o,{},{free_text:s,terms_link:l})})]})})};var y=i(69373);const S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomepageFaqs"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepageFaqs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItemAnswers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faqsItemAnswerDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailString"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:427,source:{body:"\n  query HomepageFaqs {\n    viewLayout {\n      id\n      homepageFaqs {\n        id\n        faqs {\n          id\n          headerString\n          faqsItems {\n            id\n            questionString\n            faqsItemAnswers {\n              id\n              answerString\n              faqsItemAnswerDetails {\n                id\n                detailString\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},f=e=>e.split("\n").map((e=>(0,k.BX)(t.Fragment,{children:[e,(0,k.tZ)("br",{})]},"".concat(e)))),b=e=>e.map((e=>({question:e.questionString,answer:e.faqsItemAnswers.map((e=>{return n=e,(0,k.BX)(t.Fragment,{children:[n.answerString&&f(n.answerString),(i=n.faqsItemAnswerDetails,i.length>0&&(0,k.tZ)("ul",{children:i.map((e=>(0,k.tZ)("li",{children:e.detailString},e.id)))}))]},n.id);var n,i}))})));const x=function(){const{data:e}=(0,u.aM)(S),n=null==e?void 0:e.viewLayout.homepageFaqs.faqs;if(!n)return null;const i={title:n.headerString,style:"homepage",faqs:b(n.faqsItems||[])};return(0,k.tZ)(y.Z,{...i})};var w=i(27888),N=i(42329),F=i(4707),C=i(87491),I=i(8324),L=i(64353);const T=function(e,n){const i=(0,t.useCallback)((i=>{var t;null!=e&&null!==(t=e.current)&&void 0!==t&&t.contains(i.target)||n()}),[e,n]);(0,t.useEffect)((()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)})),[i])};var A=i(95771),D=i(96572),Z=i(1258),_=i(2014);const B=(0,g.k)((e=>({container:{position:"relative",[p.responsive.down("c")]:{width:"100%"}},wrapper:{display:"flex",[p.responsive.down("r")]:{display:"block"}},addressInputWrapper:{display:"flex",flexDirection:"column"},inputWrapper:{borderRadius:p.spacing.s12,padding:p.spacing.s16,backgroundColor:e.colors.systemGrayscale00,display:"flex",flexDirection:"row",alignItems:"center",boxSizing:"border-box",border:"2px solid transparent",height:"56px",width:"432px",[p.responsive.down("c")]:{width:"100%"}},activeInputWrapper:{border:"2px solid ".concat(e.colors.systemGrayscale70)},errorInputWrapper:{border:"2px solid ".concat(e.colors.systemDetrimentalRegular)},input:{...e.typography.bodyLarge2,fontFamily:"inherit",color:e.colors.systemGrayscale70,width:"100%",border:"none",outline:"none"},inputContainer:{marginLeft:p.spacing.s12,width:"100%",display:"flex",flexDirection:"column"},errorText:{fontSize:"10px",lineHeight:"14px",color:e.colors.systemDetrimentalDark},resultsContainer:{boxShadow:p.elevation.low.shadow.boxShadow,position:"absolute",borderRadius:p.spacing.s12,backgroundColor:e.colors.systemGrayscale00,marginTop:p.spacing.s12,width:"432px",zIndex:1,[p.responsive.down("c")]:{width:"100%"}},results:{listStyleType:"none",margin:0,paddingInlineStart:0,"> :last-child":{borderBottomLeftRadius:p.spacing.s12,borderBottomRightRadius:p.spacing.s12}},currentLocation:{...e.typography.bodyLarge1,fontFamily:"inherit",display:"flex",flexDirection:"row",alignItems:"center",padding:p.spacing.s12,width:"100%",backgroundColor:e.colors.systemGrayscale00,border:"none",borderRadius:p.spacing.s12,cursor:"pointer",":hover":{"&:not(:disabled)":{backgroundColor:e.colors.systemGrayscale10}},"&[disabled]":{cursor:"not-allowed",opacity:.5}},currentLocationText:{color:e.colors.systemGrayscale70,marginLeft:p.spacing.s12},currentLocationWithResults:{borderBottomLeftRadius:0,borderBottomRightRadius:0},resultsDivider:{height:p.spacing.s12,width:"100%",backgroundColor:e.colors.systemGrayscale10},address:{display:"flex",flexDirection:"row",width:"100%",backgroundColor:e.colors.systemGrayscale00,border:"none",cursor:"pointer",fontFamily:"inherit",padding:p.spacing.s12,":hover":{backgroundColor:e.colors.systemGrayscale10}},activeAddress:{backgroundColor:e.colors.systemGrayscale10},addressText:{marginLeft:p.spacing.s12,width:"100%",textAlign:"left"},addressStreet:{...e.typography.bodyMedium1,color:e.colors.systemGrayscale70,textOverflow:"ellipsis",width:"360px",overflow:"hidden",whiteSpace:"nowrap",[p.responsive.down("c")]:{width:"100%"}},addressCity:{...e.typography.bodySmall2,color:e.colors.systemGrayscale50,textOverflow:"ellipsis",width:"360px",overflow:"hidden",whiteSpace:"nowrap",[p.responsive.down("c")]:{width:"100%"}},submitButton:{backgroundColor:e.colors.systemGrayscale00},closeButton:{background:"none",border:"none",alignSelf:"flex-start"},resultButton:{display:"flex"},findButton:{marginLeft:p.spacing.s12,padding:p.spacing.s16,width:"auto",[p.responsive.down("r")]:{marginLeft:0,marginTop:p.spacing.s12}},loadingAfterRetailerClick:{height:"100vh",position:"fixed"}}))),R=e=>{let{setHasClickedAddress:n,onAddressClick:i,setInputHasFocus:a,setAddressHasFocus:r,setHideResults:o,setActiveOptionId:s,showDropdown:l,enableTracking:d,locations:c,currentLocationButtonText:u,labelId:m,popupId:g,onUseCurrentLocationClick:v,isLoading:h}=e;const{trackEvent:y}=(0,F.r)(),[S,f]=(0,t.useState)(-1),b=B(),[x]=(0,t.useState)((()=>(0,C.uniqueId)("address_result_option"))),w=(0,t.useCallback)((e=>()=>{e&&(d&&y("button_press",{source:"address_select",source_value:"".concat(e.viewSection.lineOneString).concat(e.viewSection.lineTwoString).concat(e.postalCode)}),n(!0),i(e))}),[y,d,n,i]),N=(0,t.useCallback)((()=>{d&&y("button_press",{source:"address_select",source1:"current_location",source_value:"Current Location"}),o(!0),v()}),[d,y,o,v]),I=(0,t.useCallback)((e=>{let{code:n}=e;if(null!=c&&c.length)if("ArrowDown"===n&&S<c.length){const e=S+1;f(e),s("".concat(x,"_").concat(e))}else if("ArrowUp"===n&&S>0){const e=S-1;f(e),s("".concat(x,"_").concat(e))}else"Enter"===n&&S>-1?0===S?N():w(c[S-1])():"Escape"===n&&(o(!0),s(void 0))}),[S,c,w,x,s,o,N]);(0,t.useEffect)((()=>(document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)})),[I]);const L=!(null==c||!c.length);return l?(0,k.BX)("div",{css:b.resultsContainer,id:g,children:[(0,k.tZ)("div",{"aria-selected":0===S,id:"".concat(x,"_0"),children:(0,k.BX)("button",{css:[b.currentLocation,L&&b.currentLocationWithResults,0===S&&b.activeAddress,""],onMouseDown:N,disabled:h,onFocus:()=>{r(!0)},onBlur:()=>{r(!1),a(!1),o(!0)},tabIndex:0,"data-testid":"address-results-use-current-location",children:[(0,k.tZ)(p.RouteIcon,{size:19,color:"systemSuccessRegular"}),(0,k.tZ)("span",{css:b.currentLocationText,children:u})]})}),L&&(0,k.tZ)("ul",{css:b.results,role:"listbox","aria-labelledby":m,children:null==c?void 0:c.map(((e,n)=>(0,k.tZ)("li",{role:"option","aria-selected":S===n+1,id:"".concat(x,"_").concat(n+1),children:(0,k.BX)("button",{css:[b.address,S===n+1&&b.activeAddress,""],onClick:w(e),onFocus:()=>{r(!0)},onBlur:()=>{r(!1)},tabIndex:-1,children:[(0,k.tZ)(p.MarkerIcon,{size:19}),(0,k.BX)("div",{css:b.addressText,children:[(0,k.tZ)("div",{css:b.addressStreet,children:e.viewSection.lineOneString}),(0,k.tZ)("div",{css:b.addressCity,children:e.viewSection.lineTwoString})]})]})},"".concat(e.viewSection.lineOneString).concat(e.viewSection.lineTwoString).concat(e.postalCode))))})]}):null};var U=i(1843),G=i(58123);const W=e=>{let{placeholder:n,currentLocationButtonText:i,inputRef:a,errorText:r,hideResults:o,currentInput:s,currentLocation:l,setCurrentInput:d,enableTracking:c,addressFormRef:m,setHideResults:g,setCurrentLocation:v,setLocationUpdate:h,setErrorState:y,geoLocationErrorText:S,postAddressVariant:f,ignoreAddressOutsideClick:b,setIgnoreAddressOutsideClick:x,heroData:N}=e;const{trackEvent:W}=(0,F.r)(),[M,q]=(0,t.useState)(!1),[O,H]=(0,t.useState)(!1),[z,E]=(0,t.useState)(!1),[V,P]=(0,t.useState)(!1),[X,j]=(0,t.useState)(!1),[$,Q]=(0,t.useState)(),[Y,K]=(0,t.useState)(!1),[J]=(0,A.Z)(s,300),ee=B(),ne=(0,G.Bf)(),ie=(0,C.uniqueId)("address_input"),te=(0,C.uniqueId)("address_input_label"),ae=(0,C.uniqueId)("address_input_instructions"),re=(0,C.uniqueId)("address_input_popup"),oe=(0,C.uniqueId)("address_input_error"),{data:se}=(0,u.aM)(_.ys,{skip:!J||V,variables:{query:J}}),le=null==N?void 0:N.viewLayout.homepage.hero,de=null==se?void 0:se.autocompleteLocations.locations,ce=null==de?void 0:de.filter((e=>e.streetAddress)),[ue]=(0,U.DE)(),me=e=>{let{relatedTarget:n}=e;document.activeElement===a.current?(c&&W("button_press",{source:"address_input"}),q(!0),g(!1)):n||q(!1)},pe=e=>{var n;const{viewSection:{lineOneString:i,lineTwoString:t}}=e;"storeChooser"!==f&&"guestHome"!==f?(d("".concat(i,", ").concat(t)),h(!0),v(e),E(!1),g(!0),null===(n=a.current)||void 0===n||n.focus()):(e=>{const n=new URL("/store",window.location.origin);K(!0),W("navigate_to_store_chooser",{source:"browse_address",source_value:"guest_user_create"}),ue({variables:{postalCode:e.postalCode||"",streetAddress:e.streetAddress||""}}).then((()=>{"storeChooser"===f&&(0,Z.Z)({post_address:!0}),"guestHome"===f&&window.location.assign(n.toString())})).catch((e=>{w.Z.error("Error creating a guest user",e),n.searchParams.set("guest","true"),window.location.assign(n.toString())}))})(e)},[ge]=(0,u.td)(_.Qe,{onCompleted(e){e.addressFromCoordinates&&pe(e.addressFromCoordinates),j(!1)},onError(){y(S),j(!1)}});T(a,(()=>{b?x(!1):g(!0)}));const ve=e=>{var n;d(""),E(!0),null===(n=a.current)||void 0===n||n.focus(),e.preventDefault()},ke=((null==s?void 0:s.length)>0||M||O)&&!V&&(!o||b),he=M||ke?ee.activeInputWrapper:{},ye=r&&ee.errorInputWrapper,Se=!M&&0===s.length&&("button"===f||"control"===f),fe=M&&s.length>0;return(0,t.useEffect)((()=>{W("address_input.view",{source:"address_input"}),ne.increment("homepage.address_input.view")}),[ne,W]),(0,k.BX)(k.HY,{children:[Y&&(0,k.tZ)(p.LoadingGenericOnExit,{css:ee.loadingAfterRetailerClick}),(0,k.tZ)("div",{css:ee.container,children:(0,k.BX)("div",{css:ee.wrapper,children:[(0,k.BX)("div",{css:ee.addressInputWrapper,children:[(0,k.BX)("div",{css:[ee.inputWrapper,he,ye,""],children:[X?(0,k.BX)("div",{children:[(0,k.tZ)(L.$,{spinnerStyles:{width:"13px",height:"13px"}}),(0,k.tZ)(I.Z,{children:(0,k.tZ)("div",{"aria-live":"polite",children:null==le?void 0:le.loadingString})})]}):(0,k.tZ)(p.MarkerIcon,{size:19}),(0,k.BX)("form",{onSubmit:e=>{e.preventDefault()},css:ee.inputContainer,ref:m,tabIndex:-1,children:[(0,k.BX)(I.Z,{children:[(0,k.tZ)("label",{htmlFor:ie,id:te,children:n}),(0,k.tZ)("div",{id:ae,"aria-hidden":!M,children:null==le?void 0:le.addressNavigationInstructionsString})]}),(0,k.tZ)("input",{ref:a,id:ie,"data-testid":"homepage-address-input",name:"homepage-address-input",css:ee.input,onChange:e=>{let{target:{value:n}}=e;r&&y(null),E(!0),P(!1),d(n),g(!1)},onFocus:me,onBlur:me,value:s,placeholder:n,autoComplete:"off","aria-activedescendant":$,"aria-autocomplete":"list","aria-controls":re,"aria-describedby":"".concat(ae," ").concat(r?oe:""),"aria-expanded":ke,"aria-haspopup":"listbox"}),(0,k.tZ)(I.Z,{children:(0,k.tZ)("div",{"aria-live":"assertive",children:(()=>{const e=null==ce?void 0:ce.length;return void 0!==e&&M?0===e?null==le?void 0:le.resultsFound0String:1===e?null==le?void 0:le.resultsFound1String:null==le?void 0:le.resultsFoundNString.replace("{count}","".concat(e)):null})()})}),r&&(0,k.tZ)("span",{id:oe,css:ee.errorText,children:r})]}),Se&&(0,k.tZ)(p.ArrowRightIcon,{size:19,color:"systemSuccessRegular"}),fe&&(0,k.tZ)("button",{css:ee.closeButton,onClick:ve,onMouseDown:ve,"aria-label":null==le?void 0:le.clearAddressString,children:(0,k.tZ)(p.CloseIcon,{cursor:"pointer",size:19,color:"systemGrayscale70","data-testid":"homepage-address-input-clear"})})]}),(0,k.tZ)("div",{css:ee.resultButton,children:(0,k.tZ)(R,{currentLocationButtonText:i,locations:ce,showDropdown:ke,setHasClickedAddress:P,onAddressClick:pe,setInputHasFocus:q,setAddressHasFocus:H,setActiveOptionId:Q,setHideResults:g,enableTracking:c,labelId:te,popupId:re,onUseCurrentLocationClick:()=>{j(!0),navigator.geolocation.getCurrentPosition((e=>{let{coords:{latitude:n,longitude:i}}=e;ge({variables:{coordinates:{latitude:n,longitude:i}}})}),(()=>{y(S),j(!1)}),{enableHighAccuracy:!0,timeout:5e3})},isLoading:X})})]}),f&&"control"!==f&&(0,k.tZ)(D.KMU,{onClick:()=>{!z&&l?pe(l):V||y((null==le?void 0:le.enterAddressFirstString)||"")},css:ee.findButton,"data-testid":"homepage-find-store",children:null==le?void 0:le.findStoreString})]})})]})};var M=i(80573),q=i(7356),O=i(44503);const H=(0,g.k)((e=>({container:{backgroundColor:"".concat(e.colors.systemGrayscale00),borderRadius:p.spacing.s8,boxSizing:"border-box",padding:"10px 12px",border:"solid 1px ".concat(e.colors.systemGrayscale30),display:"flex",alignItems:"center",[p.responsive.down("c")]:{display:"none"}},flag:{width:"25px",height:"25px",marginRight:"6px"},selectOnlyArrow:{appearance:"none",border:"none",width:p.spacing.s8,height:"5px",textIndent:p.spacing.s8,cursor:"pointer",backgroundPosition:"center",backgroundRepeat:"no-repeat",padding:p.spacing.s8}}))),z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LandingCountryQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingCountry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"infos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flagImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iso2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:199,source:{body:"\n  query LandingCountryQuery {\n    landingCountry {\n      infos {\n        currency\n        flagImage\n        id\n        iso2\n        viewSection {\n          countryString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},E=()=>{const e=H(),n=(0,G.Bf)(),{data:i,error:t}=(0,O.l)(),{data:a}=(0,_.Pu)(),{data:r}=(0,u.aM)(z),o=null==i?void 0:i.landingConfiguration.country,s=null==a?void 0:a.viewLayout.homepage.hero,l=null==r?void 0:r.landingCountry.infos;if(t&&n.increment("country_chooser.landing_configuration.error"),!l||!o)return o||n.increment("country_chooser.current_country_code.null"),null;const{countryChooserArrowImage:d}=s||{},c={US:"com",CA:"ca",AU:"com.au"},m=l.filter((e=>e.iso2===o))[0],p=[m,...l.filter((e=>e.iso2!==o))],g={backgroundImage:"url('".concat(null==d?void 0:d.url,"')"),...e.selectOnlyArrow};return void 0===m&&M.Z.warn("currentCountry not found for ".concat(o),{owner:q.Z.acquisition}),(0,k.BX)("div",{css:e.container,children:[(0,k.tZ)("object",{data:m.flagImage,"aria-label":m.viewSection.countryString,type:"image/svg+xml",css:e.flag,tabIndex:-1,"aria-hidden":"true",children:m.viewSection.countryString}),(0,k.tZ)("select",{"data-testid":"country_chooser",name:"country_alpha_2","aria-label":"Choose your country. This action refreshes the page.",onChange:e=>{let{target:{value:n}}=e;if("undefined"!=typeof window){const e="https://www.instacart.".concat(c[n]).concat(window.location.pathname).concat(window.location.search);window.location.assign(e)}},css:g,children:p.map((e=>(0,k.tZ)("option",{value:e.iso2,"aria-label":e.viewSection.countryString,children:e.iso2},e.iso2)))})]})};var V=i(91663);const P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersStringsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailersList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showAllTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showLessTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showMoreTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceUnavailableHeadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceUnavailableSubheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesSignupString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shopByStoresString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"popularHeadlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineWithRegionStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chooseHeadlineWithRegionStringFormatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:894,source:{body:"\n  query RetailersStringsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        retailersList {\n          id\n          headlineString\n          showAllTextString\n          showLessTextString\n          showMoreTextString\n          pickupUnavailableHeadingString\n          deliveryUnavailableHeadingString\n          serviceUnavailableHeadingString\n          pickupUnavailableSubheadingString\n          deliveryUnavailableSubheadingString\n          serviceUnavailableSubheadingString\n          updatesSignupString\n          shopByStoresString\n          popularHeadlineString\n          headlineWithRegionStringFormatted {\n            sections {\n              name\n              content\n            }\n          }\n          chooseHeadlineWithRegionStringFormatted {\n            sections {\n              name\n              content\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var X=i(78393),j=i(8277);const $=(0,g.k)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:p.spacing.s48},heading:{...e.typography.bodyLarge1,marginTop:"30px",color:e.colors.systemGrayscale50},subheading:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale50,width:"375px"},updates:{...e.typography.bodyLarge1,marginTop:"24px",backgroundColor:"#FFFFFF",color:e.colors.brandPrimaryRegular,textDecoration:"none",fontFamily:"inherit"}}))),Q=e=>{let{postalCode:n,heading:i,subheading:t,updates:a}=e;const r=$(),{authModalProps:o,openAuthModal:s}=(0,X.R)(),l=i.replace("{postal_code}",n);return(0,k.BX)("div",{css:r.container,children:[(0,k.tZ)("div",{css:r.heading,children:l}),(0,k.tZ)("div",{css:r.subheading,children:t}),(0,k.tZ)(I.Z,{children:(0,k.tZ)("div",{"aria-live":"assertive",children:l})}),a&&(0,k.BX)("div",{children:[(0,k.tZ)(p.ButtonBase,{css:r.updates,onClick:()=>s(j.Path.Signup),children:a}),(0,k.tZ)(X.Z,{authModalProps:o})]})]})};var Y=i(75246),K=i(87856),J=i(3533),ee=i(8120);const ne=function(e){let{name:n,logo:i,services:t,serviceKeys:a,attributes:r,url:o,id:s,deliveryEtaString:l,onRetailerClick:c,disableClick:u,storeCardRef:m}=e;const p=(0,K.Z)(),{trackEvent:g}=(0,J.r)(),v=u?{cursor:"default"}:{},h=(0,d.d)(),y=e=>{u?e.preventDefault():(g("signup.button_press",{source:"browse_stores",source_value:s,source1:n}),c&&c({url:o,id:s,name:n,services:t,serviceKeys:a,logo:i},e))},S=()=>(0,k.tZ)(k.HY,{children:(0,k.BX)(D.XSt,{css:(0,Y.iv)({width:"100%",...v,...p.storeCardAnchor},""),href:o,onClick:y,children:[(0,k.tZ)(D.FIO,{children:(0,k.tZ)(ee.Z,{templateUrl:i.templateUrl,style:p.retailerLogo,alt:i.alt,loading:"lazy",decoding:"async"})}),(0,k.BX)(D.Hx3,{children:[(0,k.tZ)(D.kWF,{css:p.retailerName,children:n}),!l&&(0,k.tZ)(D.p_P,{css:p.storeCardEta,children:t.map(((e,n)=>(0,k.BX)("span",{children:[(0,k.tZ)("span",{children:e}),(0,k.tZ)("span",{children:n+1<t.length&&(0,k.tZ)("span",{css:p.divider,children:" • "})})]},e)))}),l&&(0,k.BX)(D.tPe,{css:p.storeCardEta,styles:{icon:p.icon},children:[l,t.length>1&&t.slice(1).map((e=>(0,k.BX)(D.p_P,{css:p.storeCardEta,children:[(0,k.tZ)("span",{css:p.divider,children:" • "}),(0,k.tZ)("span",{children:e})]})))]}),r&&r.map((e=>(0,k.tZ)(D.QCd,{css:p.storeCardAttributes,children:e})))]}),(0,k.tZ)(D.yzH,{css:p.mobileOnly,children:(0,k.tZ)(D.$hR,{})})]})});return(0,k.tZ)(k.HY,{children:h?(0,k.tZ)("div",{css:p.mobileOnly,children:(0,k.tZ)(D.YaG,{children:S()})}):(0,k.tZ)("div",{css:(0,Y.iv)({...p.desktopOnly,height:"100%"},""),children:(0,k.tZ)(D.p6f,{css:(0,Y.iv)({height:"100%",display:"flex",alignItems:"center",...p.retailerContainer},""),ref:m,children:S()})})})};var ie=i(7335),te=i(84773);const ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LpsShopCollection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"retailerSlugs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"coordinates"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UsersCoordinatesInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"addressId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowCanonicalFallback"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"retailerSlugs"},value:{kind:"Variable",name:{kind:"Name",value:"retailerSlugs"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}},{kind:"Argument",name:{kind:"Name",value:"coordinates"},value:{kind:"Variable",name:{kind:"Name",value:"coordinates"}}},{kind:"Argument",name:{kind:"Name",value:"addressId"},value:{kind:"Variable",name:{kind:"Name",value:"addressId"}}},{kind:"Argument",name:{kind:"Name",value:"allowCanonicalFallback"},value:{kind:"Variable",name:{kind:"Name",value:"allowCanonicalFallback"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homeCategories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerCardCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categoryString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"logoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"retailerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerLocationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"serviceType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingProperties"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1044,source:{body:"\n  query LpsShopCollection(\n    $retailerSlugs: [String!]\n    $postalCode: String!\n    $coordinates: UsersCoordinatesInput!\n    $addressId: ID\n    $allowCanonicalFallback: Boolean\n  ) {\n    shopCollection(\n      retailerSlugs: $retailerSlugs\n      postalCode: $postalCode\n      coordinates: $coordinates\n      addressId: $addressId\n      allowCanonicalFallback: $allowCanonicalFallback\n    ) {\n      id\n      shops {\n        id\n        retailer {\n          id\n          categories\n          homeCategories\n          slug\n          name\n          retailerType\n          viewSection {\n            id\n            retailerCardCategories {\n              id\n              categoryString\n            }\n            logoImage {\n              id\n              altText\n              templateUrl\n              url\n            }\n          }\n        }\n        retailerId\n        retailerLocationId\n        serviceType\n        viewSection {\n          id\n          trackingProperties\n          deliveryString\n          pickupString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LpsShopTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shopIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"zoneId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"coordinates"}},type:{kind:"NamedType",name:{kind:"Name",value:"UsersCoordinatesInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attributeContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"shopIds"},value:{kind:"Variable",name:{kind:"Name",value:"shopIds"}}},{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}},{kind:"Argument",name:{kind:"Name",value:"zoneId"},value:{kind:"Variable",name:{kind:"Name",value:"zoneId"}}},{kind:"Argument",name:{kind:"Name",value:"coordinates"},value:{kind:"Variable",name:{kind:"Name",value:"coordinates"}}},{kind:"Argument",name:{kind:"Name",value:"attributeContext"},value:{kind:"Variable",name:{kind:"Name",value:"attributeContext"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shopId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingProperties"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retailerCardShopTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributeString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataSourceVariant"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:795,source:{body:'\n  query LpsShopTags(\n    $shopIds: [ID!]!\n    $postalCode: ID!\n    $zoneId: ID!\n    $coordinates: UsersCoordinatesInput\n    $attributeContext: String\n  ) {\n    shopTags(\n      shopIds: $shopIds\n      postalCode: $postalCode\n      zoneId: $zoneId\n      coordinates: $coordinates\n      attributeContext: $attributeContext\n    ) {\n      id\n      shopId\n      viewSection {\n        id\n        trackingProperties\n        retailerCardShopTags {\n          id\n          attributeString # e.g. "Save $10 off your order"\n          textColor\n          textBackgroundColor\n          iconString\n          displayVariant # "primary" or "secondary" (we can map these display variants to different ways of displaying attributes)\n          dataSourceVariant # shopTag or deliveryEta\n        }\n      }\n    }\n  }\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RetailersDeliveryEta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postalCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableRetailerServicesWithoutAuth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postalCode"},value:{kind:"Variable",name:{kind:"Name",value:"postalCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"retailer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"services"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deliveryEta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"etaString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:289,source:{body:"\n  query RetailersDeliveryEta($postalCode: String!) {\n    availableRetailerServicesWithoutAuth(postalCode: $postalCode) {\n      retailer {\n        name\n        id\n        slug\n      }\n      services\n      viewSection {\n        deliveryEta {\n          etaString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var se=i(88182);const le=e=>{var n,i,a;let{postalCodeOverride:o,coordinatesOverride:s,cityData:l,linkUrlTemplate:d,pickupOnly:c,skip:m=!1}=e;const p=(0,te.Z)({skip:m||!!o&&!!s||!!l}),g={latitude:(null==s?void 0:s.latitude)||(null==l?void 0:l.coordinates.latitude)||(null===(n=p.coordinates)||void 0===n?void 0:n.latitude),longitude:(null==s?void 0:s.longitude)||(null==l?void 0:l.coordinates.longitude)||(null===(i=p.coordinates)||void 0===i?void 0:i.longitude)},v=o||(null==l?void 0:l.postalCode)||(null==p?void 0:p.postalCode),{data:k,loading:h}=(y={variables:{postalCode:v,coordinates:g},skip:m},(0,u.aM)(ae,y));var y;const{data:S,loading:f}=(e=>(0,u.aM)(oe,e))({variables:{postalCode:v},skip:m}),b=(0,t.useMemo)((()=>(null==S?void 0:S.availableRetailerServicesWithoutAuth)||[]),[null==S?void 0:S.availableRetailerServicesWithoutAuth]),{data:x}=(0,V.S_)({skip:m||!v,variables:{postalCode:v}}),w=(null==l?void 0:l.zoneId)||(null==x||null===(a=x.zoneV2)||void 0===a?void 0:a.id),N=(0,t.useMemo)((()=>(null==k?void 0:k.shopCollection.shops)||[]),[k]),F=N.map((e=>e.id)),{data:C,loading:I}=(e=>(0,u.aM)(re,e))({variables:{postalCode:v,coordinates:g,zoneId:w,shopIds:F},skip:m||0===F.length}),L=h||I||f,T=(0,t.useMemo)((()=>{let e=[];const n=(null==C?void 0:C.shopTags)||[],i=N.reduce(((e,n)=>{const{retailerId:i}=n,t=e[i]||[];return{...e,[i]:[...t,n]}}),{}),t=n.reduce(((e,n)=>({...e,[n.shopId]:n})),{}),a=b.reduce(((e,n)=>({...e,[n.retailer.id]:n})),{});return N&&N.length>0&&(e=N.map((e=>{const{retailerId:n}=e,o=i[n];return function(e){var n,i,t,a,o,s;let{shops:l,linkUrlTemplate:d,shopTags:c,retailerDeliveryEta:u,pickupOnly:m}=e;const p=null==u||null===(n=u.viewSection)||void 0===n||null===(i=n.deliveryEta)||void 0===i?void 0:i.etaString,g=l.map((e=>{var n;return null==e||null===(n=e.viewSection)||void 0===n?void 0:n.deliveryString})).filter(se.Dw).join(""),v=l.map((e=>{var n;return null==e||null===(n=e.viewSection)||void 0===n?void 0:n.pickupString})).filter(se.Dw).join(""),k=p&&p!==g?p:null,h=m?[v]:[g,v],y=null===(t=l.at(0))||void 0===t||null===(a=t.retailer)||void 0===a||null===(o=a.viewSection)||void 0===o?void 0:o.retailerCardCategories.map((e=>e.categoryString));let S=[];return S=Array.from(new Set(c.flatMap((e=>null==e?void 0:e.viewSection.retailerCardShopTags.map((e=>e.attributeString)).filter(se.Dw))))),{url:d?(0,r.generatePath)(d,{slug:null==l||null===(s=l[0].retailer)||void 0===s?void 0:s.slug}):"/".concat(null==l?void 0:l[0].retailer.slug),id:null==l?void 0:l[0].retailer.id,name:null==l?void 0:l[0].retailer.name,logo:{templateUrl:null==l?void 0:l[0].retailer.viewSection.logoImage.templateUrl,alt:null==l?void 0:l[0].retailer.name},serviceKeys:l.map((e=>e.serviceType)),deliveryEtaString:k,services:h.filter(Boolean),categories:y,attributes:S}}({shops:o,linkUrlTemplate:d,shopTags:o.map((e=>t[e.id])),retailerDeliveryEta:a[n],pickupOnly:c})})).filter((e=>Boolean(e))).filter((e=>!c||e.serviceKeys.includes("pickup"))),e=(0,se.YY)(e,((e,n)=>e.id===n.id))),e}),[C,N,b,d,c]);return{loading:L,retailers:T}};const de=function(e){let{styles:n,hideHeader:i,header:a,subheader:r,headerStyles:o,subheaderStyles:s,linkUrlTemplate:l="/store/:slug/storefront",headerWithRegionStringFormatted:u,region:m,addressModalState:p,retailersTruncationText:g,onRetailerClick:v,disableClick:h=!1,pickupOnly:y,cityData:S,retailersOverride:f,postalCodeOverride:b,coordinatesOverride:x}=e,w=[];const N=(0,K.Z)(),F=(0,d.d)(),C=f&&f.length>0,{loading:I,retailers:L}=le({postalCodeOverride:b,coordinatesOverride:x,pickupOnly:y,cityData:S,linkUrlTemplate:l,skip:C}),T=(0,D.M4m)(p),A=F?5:12,[Z,_]=(0,t.useState)(!1),[B,R]=(0,t.useState)(A),U=(0,t.useRef)(null),G=(0,t.useRef)([]),{trackEvent:W}=(0,J.r)(),{t:M}=(0,ie.F)(["globals.retailers_list"]);if((0,t.useEffect)((()=>(R(A),()=>{_(!1)})),[A]),(0,t.useEffect)((()=>{var e;if(null!==(e=G.current)&&void 0!==e&&e.length&&B!==A){let e;e=Z?A:B-A;const n=G.current[e].firstChild;null==n||n.focus()}}),[Z,A,B]),L&&L.length>0)w=L;else{if(!C)return null;w=f}if(I||!w.length)return null;const q=()=>B<w.length?F?(null==g?void 0:g.showMoreText)||M("retailers_list.show_more"):(null==g?void 0:g.showAllText)||M("retailers_list.show_all"):(null==g?void 0:g.showLessText)||M("retailers_list.show_less"),O=w.length>A;return(0,k.tZ)("div",{css:[N.componentWrapper,n,""],children:(0,k.BX)("div",{css:N.container,children:[!i&&(a||u)&&(u?(0,k.tZ)("h2",{css:N.headerWithAddressModal,children:(0,c.WU)(u.sections,{region:m},{region:e=>(0,k.tZ)("span",{css:N.headerRegion,tabIndex:0,role:"button",...T,children:e},"region")})}):(0,k.tZ)("h2",{css:(0,Y.iv)({...N.header,...o},""),children:a})),r&&(0,k.tZ)("h3",{css:(0,Y.iv)({...N.subHeader,...s},""),children:r}),(0,k.BX)("div",{css:N.gridContainer,children:[(0,k.tZ)("ul",{css:N.gridContainerRetailers,ref:U,children:w.slice(0,B).map(((e,n)=>(0,k.tZ)("li",{children:(0,k.tZ)(ne,{...e,onRetailerClick:v,disableClick:h,storeCardRef:e=>{e&&(G.current[n]=e)}})},e.id)))}),O&&(0,k.tZ)("button",{css:N.showAllButton,onClick:()=>{var e,n;W("signup.button_press",{source:"browse_stores",source_value:q()}),F?B<w.length?R(B+5):(R(5),null==U||null===(n=U.current)||void 0===n||n.scrollIntoView()):(Z?(R(12),null==U||null===(e=U.current)||void 0===e||e.scrollIntoView()):R(w.length),_(!Z))},children:q()})]})]})})};const ce=function(e){var n,i;let{postalCode:a,coordinates:r,region:o,filter:s,hideHeadline:l,toggleVisible:d,updatedLocation:c,onRetailerClick:m,onServiceClick:p,setLocationUpdate:g,showSubheader:v,addressModalState:h}=e,y=[];const{loading:S,retailers:f}=le({postalCodeOverride:a,coordinatesOverride:r,linkUrlTemplate:"/store/:slug/storefront"}),{data:b}=(0,u.aM)(P),x=null==b||null===(n=b.viewLayout)||void 0===n||null===(i=n.homepage)||void 0===i?void 0:i.retailersList,w=(null==x?void 0:x.serviceUnavailableHeadingString)||"",N=(null==x?void 0:x.serviceUnavailableSubheadingString)||"",F=(null==x?void 0:x.deliveryUnavailableHeadingString)||"",C=(null==x?void 0:x.deliveryUnavailableSubheadingString)||"",I=(null==x?void 0:x.pickupUnavailableHeadingString)||"",L=(null==x?void 0:x.pickupUnavailableSubheadingString)||"",T=(null==x?void 0:x.updatesSignupString)||"",{headlineString:A,chooseHeadlineWithRegionStringFormatted:D}=x||{},Z=!f||0===f.length,_=null==x?void 0:x.shopByStoresString,B="".concat(A," ").concat(o);if((0,t.useEffect)((()=>{if(!Z&&d)if(y.length)g(!1);else if(!y.length&&c){const e="delivery"===s?"pickup":"delivery";g(!1),p(e)}})),Z)return d&&!S&&a?(0,k.tZ)(Q,{postalCode:a,heading:w,subheading:N,updates:T}):null;if(y=f,d&&(y=y.filter((e=>e.serviceKeys.includes(s)))),!y.length){const e="delivery"===s;return(0,k.tZ)(Q,{postalCode:a||"",heading:e?F:I,subheading:e?C:L})}return(0,k.tZ)(de,{postalCodeOverride:a,coordinatesOverride:r,retailersOverride:y,hideHeader:l,onRetailerClick:m,header:B||"",retailersTruncationText:{showAllText:(null==x?void 0:x.showAllTextString)||"",showLessText:(null==x?void 0:x.showLessTextString)||"",showMoreText:(null==x?void 0:x.showMoreTextString)||""},pickupOnly:"pickup"===s,subheader:v?_:void 0,addressModalState:h,headerWithRegionStringFormatted:D,region:o})};var ue=i(54785),me=i(20410);const pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QrCodeBannerLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"appDownloadQrCode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerLeftImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"descriptionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qrCodeBackgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qrCodeBackupImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"titleString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:399,source:{body:"\n  query QrCodeBannerLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        appDownloadQrCode {\n          id\n          bannerLeftImage {\n            url\n          }\n          descriptionString\n          qrCodeBackgroundImage {\n            url\n          }\n          qrCodeBackupImage {\n            url\n            altText\n          }\n          titleString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ge=(0,g.k)((e=>({bannerContainer:{height:"100px",width:"100%",maxWidth:"1152px",backgroundColor:"#B1E5D5",display:"flex",flexDirection:"row",margin:"auto",alignItems:"center",justifyContent:"space-between",borderRadius:p.spacing.s8,...p.elevation.high.shadow},leftImage:{height:"100px",width:"267px",[p.responsive.down("c")]:{display:"none"}},textContainer:{width:"410px",justifyContent:"center",[p.responsive.down("c")]:{marginLeft:"30px"}},title:{...e.typography.titleMedium},description:{...e.typography.bodyMedium2},imgStyle:{float:"right",width:"100px",marginLeft:"40px",borderRadius:p.spacing.s8,[p.responsive.down("c")]:{margin:"0px"}}})));const ve=function(){const e=ge(),{data:n}=(0,u.aM)(pe),{trackEvent:i}=(0,J.r)(),a=null==n?void 0:n.viewLayout.homepage.appDownloadQrCode,r=null==a?void 0:a.bannerLeftImage.url,o=null==a?void 0:a.qrCodeBackgroundImage.url,s=null==a?void 0:a.qrCodeBackupImage.url,l=null==a?void 0:a.descriptionString,d=null==a?void 0:a.titleString,[c,m]=(0,t.useState)(s),{visitToken:p}=(0,ue.zk)();return(0,t.useEffect)((()=>{if(!a||!p)return;const e={code_color:"#000000",background_color:"#FFFFFF",center_logo_url:o,margin:5,width:800,image_format:"png"},n={tags:["homepage_native_upsell_qr_code"],channel:"instacart_internal",feature:"app_download",campaign:"customer_app_download",data:{utm_term:p,utm_campaign:"customer_app_download",utm_medium:"app_download",utm_content:"homepage_native_upsell_qr_code",utm_source:"instacart_internal"}};(0,me.M)((async()=>{const{branch:t}=window;"function"==typeof t.qrCode?t.qrCode(n,e,(function(e,n){e?i("app_download_placement.qr_code_generation_fail",{source_type:"homepage_qr_code"}):(m("data:image/png;charset=utf-8;base64,".concat(n.base64())),i("app_download_placement.view",{source_type:"homepage_qr_code"}))})):i("app_download_placement.qr_code_function_error",{source_type:"homepage_qr_code"})}))}),[a,o,i,p]),a?(0,k.BX)("div",{css:e.bannerContainer,children:[(0,k.tZ)("img",{css:e.leftImage,src:r,alt:""}),(0,k.BX)("div",{css:e.textContainer,children:[(0,k.BX)("h2",{css:e.title,children:[" ",d]}),(0,k.tZ)("div",{css:e.description,children:l})]}),(0,k.tZ)("img",{css:e.imgStyle,src:c,alt:a.qrCodeBackupImage.altText||""})]}):null},ke=(0,g.k)((e=>({buttonContainer:{borderRadius:p.spacing.s12,backgroundColor:"rgba(255, 255, 255, 0.6)",marginRight:p.spacing.s8,height:"56px",display:"flex",flexDirection:"row",padding:"2px",[p.responsive.down("c")]:{height:"50px",width:"100%",boxSizing:"border-box",marginBottom:p.spacing.s12,marginLeft:p.spacing.s16,marginRight:p.spacing.s16}},inputWrapper:{...e.typography.bodyLarge1,fontFamily:"inherit",background:"none",border:"1px solid transparent",float:"none",lineHeight:"56px",padding:0,margin:0,textAlign:"center",color:e.colors.systemGrayscale70,height:"100%",width:"50%",[p.responsive.down("c")]:{lineHeight:"46px"}},inputWrapperActive:{backgroundColor:e.colors.systemGrayscale00,border:"1px solid ".concat(e.colors.systemGrayscale30),borderRadius:p.spacing.s12},input:{"+label":{cursor:"pointer",display:"inline-block",verticalAlign:0}},icon:{marginRight:p.spacing.s12,verticalAlign:-5}}))),he=(0,g.k)((e=>({buttonContainer:{borderRadius:"200px",backgroundColor:e.colors.kale,marginRight:p.spacing.s8,height:"52px",display:"flex",flexDirection:"row",padding:"2px",[p.responsive.down("c")]:{height:"40px",width:"100%"}},inputWrapper:{...e.typography.bodyMedium1,color:e.colors.systemGrayscale00,padding:"0 ".concat(p.spacing.s24,"px"),margin:0,display:"flex",alignItems:"center",height:"100%",width:"50%",[p.responsive.down("c")]:{padding:"0 ".concat(p.spacing.s16,"px"),fontWeight:700}},inputWrapperActive:{backgroundColor:"#09624B",padding:"0 ".concat(p.spacing.s32,"px"),borderRadius:"200px",[p.responsive.down("c")]:{padding:"0 ".concat(p.spacing.s24,"px")}},input:{"+label":{cursor:"pointer",display:"inline-block",verticalAlign:0}}}))),ye=e=>{var n,i,t;let{activeService:a,onServiceClick:r,useUpdatedStyles:o,heroData:s}=e;const{trackEvent:l}=(0,F.r)(),d=(null==s||null===(n=s.viewLayout.homepage.hero)||void 0===n?void 0:n.serviceTypeLabelString)||"",c=(null==s||null===(i=s.viewLayout.homepage.hero)||void 0===i?void 0:i.deliveryString)||"",u=(null==s||null===(t=s.viewLayout.homepage.hero)||void 0===t?void 0:t.pickupString)||"",m=[{key:"delivery",icon:p.CarIcon,label:c},{key:"pickup",icon:p.WalkIcon,label:u}],g=ke(),v=he();return(0,k.tZ)(D.RsE,{accessibleLabel:d,name:"service_options",onChange:e=>{l("button_press",{source:"service_click",source_value:e}),r(e)},value:a,styles:{wrapper:o?v.buttonContainer:g.buttonContainer},children:m.map((e=>{let{key:n,icon:i,label:t}=e;const r=a===n,s=r?"systemSuccessRegular":"systemGrayscale70";return(0,k.BX)(D.k2t,{styles:{input:o?v.input:g.input,inputWrapper:o?{...v.inputWrapper,...r?v.inputWrapperActive:{}}:{...g.inputWrapper,...r?g.inputWrapperActive:{}}},value:n,children:[!o&&(0,k.tZ)(i,{size:"24",color:s,css:g.icon}),t]},n)}))})};var Se=i(6471),fe=i(45611),be=i(5349),xe=i(40022);const we=e=>{let{heroData:n}=e;const i=(0,p.useTheme)();if(!n||null==n||!n.viewLayout.homepage.hero)return null;const t={note:n.viewLayout.homepage.hero.accountExistsString,text:n.viewLayout.homepage.hero.loginString,noteStyles:{color:i.colors.brandSecondaryRegular}},a={color:i.colors.systemGrayscale70},r={heroType:xe.P.textForward,backgroundColor:"#FAF1E5",header:null==n?void 0:n.viewLayout.homepage.hero.headingString,image:{url:"",templateUrl:n.viewLayout.homepage.hero.actionableHeroImage.templateUrl,altText:n.viewLayout.homepage.hero.actionableHeroImage.altText,imageType:xe._.rectangular},link:t,heroCta:{primaryButton:{label:n.viewLayout.homepage.hero.signupString},heroCtaType:be.se.primaryButtonOnly},showMobileImage:!1,shortHero:!0};return(0,k.tZ)(be.ZP,{...r,children:(0,k.tZ)("span",{css:a,children:n.viewLayout.homepage.hero.subheadingString})})};var Ne=i(23463);const Fe=(0,t.createContext)({setStoredLocation:()=>{},activeLocation:!1});function Ce(e){var n,i;let{children:a}=e;const{storedLocation:r,storedCity:o,setStoredLocation:s}=(0,Ne.m)(),l=(0,te.Z)(),d=(null==r?void 0:r.postalCode)||(o?null:null==l?void 0:l.postalCode),c=r&&(0,Ne.A)(r),u=Boolean(r||o),m=c||o||(null==l?void 0:l.region)||(null==l?void 0:l.city),p=null==r||null===(n=r.coordinates)||void 0===n?void 0:n.latitude,g=null==r||null===(i=r.coordinates)||void 0===i?void 0:i.longitude,v=(0,t.useMemo)((()=>p&&g?{latitude:p,longitude:g}:void 0),[p,g]),h=null==r?void 0:r.streetAddress,y=(0,t.useMemo)((()=>({cityOrRegion:m,coordinates:v,postalCode:d,streetAddress:h,setStoredLocation:s,storedLocation:r,activeLocation:u})),[m,v,d,h,s,r,u]);return(0,k.tZ)(Fe.Provider,{value:y,children:a})}var Ie=i(10887);const Le=()=>{const e=(0,p.useTheme)();return{container:{margin:"auto",maxWidth:"1368px"},logoContainer:{display:"grid",gap:p.spacing.s24,justifyContent:"space-between",padding:"".concat(p.spacing.s32,"px 90px"),margin:"auto",gridTemplateColumns:"repeat(10, 1fr)",flexDirection:"row",alignItems:"center",[p.responsive.down("l")]:{padding:"".concat(p.spacing.s32,"px ").concat(p.spacing.s32,"px")},[p.responsive.down("r")]:{gap:p.spacing.s32,justifyContent:"center",padding:"".concat(p.spacing.s32,"px ").concat(p.spacing.s16,"px"),gridTemplateColumns:"auto auto auto auto auto auto"},[p.responsive.down("c")]:{gap:p.spacing.s12}},logoImage:{height:40,width:40,borderRadius:200,margin:"0 auto",border:"1px solid ".concat(e.colors.systemGrayscale20),[p.responsive.up("r")]:{height:60,width:60},[p.responsive.up("l")]:{height:70,width:70},[p.responsive.up("xl")]:{height:80,width:80}},buttonContainer:{marginLeft:"auto",marginRight:"auto",display:"block",marginBottom:p.spacing.s32,width:"375px",flex:1,padding:"".concat(p.spacing.s12,"px ").concat(p.spacing.s12,"px"),height:40,borderRadius:20,backgroundColor:e.colors.brandPrimaryDark,"& span":{...e.typography.subtitleMedium,marginTop:-2}},desktopOnly:{[p.responsive.down("r")]:{display:"none"}},mwebOnly:{[p.responsive.up("l")]:{display:"none"}}}},Te=["57","354","12","58","231","133","279","462","205","1","1573","38","200","161","45","238","235","352","118","553"];function Ae(e){var n,i;let{postAuthPaths:t}=e;const{trackEvent:a}=(0,J.r)(),r=(0,te.Z)(),o=Boolean(r.postalCode||""),{data:s}=(0,_.ZL)({skip:o,retailerIds:Te}),l=(null==s?void 0:s.retailers)||[],{data:d}=(0,_.Cy)({skip:o}),c=null==d||null===(n=d.viewLayout.homepage.noGeoRetailerList)||void 0===n?void 0:n.showNoGeoRetailerListVariant,u=null==d||null===(i=d.viewLayout.homepage.noGeoRetailerList)||void 0===i?void 0:i.buttonTextString,{storedLocation:m,storedCity:p}=(0,Ne.m)(),g={postalCode:(null==m?void 0:m.postalCode)||(p?null:r.postalCode)||void 0},{authModalProps:v,openAuthModal:h}=(0,X.R)(),y=Le();return"true"!==c?null:(0,k.BX)("div",{css:y.container,children:[(0,k.tZ)("div",{css:[y.logoContainer,y.desktopOnly,""],children:l.map((e=>(0,k.tZ)("img",{css:[y.logoImage,""],src:e.viewSection.logoImage.url,alt:e.name})))}),(0,k.tZ)("div",{css:[y.logoContainer,y.mwebOnly,""],children:l.slice(0,12).map((e=>(0,k.tZ)("img",{css:[y.logoImage,""],src:e.viewSection.logoImage.url,alt:e.name})))}),(0,k.tZ)(D.KMU,{css:y.buttonContainer,onClick:()=>{a("signup.button_press",{source:"no_geo_retailers_list"}),h(j.Path.Signup,g)},children:u}),(0,k.tZ)(X.Z,{authModalProps:v,postAuthPaths:t})]})}const De=(0,N.Z)({loader:()=>i.e(9098).then(i.bind(i,44688)),webpack:()=>[44688]}),Ze=(0,N.Z)({loader:()=>i.e(2513).then(i.bind(i,14415)),webpack:()=>[14415]});const _e=function(e){var n,i,a,o,s,l,c,u,m;let{addressFormRef:v,addressModalState:h,activeService:y,setActiveService:S}=e;const{cityOrRegion:f,coordinates:b,postalCode:x,streetAddress:N,activeLocation:C,storedLocation:I,setStoredLocation:L}=(0,t.useContext)(Fe),{trackEvent:T}=(0,F.r)(),{search:A}=(0,r.useLocation)(),{authModalProps:D,openAuthModal:Z}=(0,X.R)(),[B,R]=(0,t.useState)(void 0),G=new URLSearchParams(A),[M,q]=(0,t.useState)(),[O,H]=(0,t.useState)(!1),[z,V]=(0,t.useState)(null),[P]=(0,U.DE)(),[j,$]=(0,t.useState)(!1),Q=(0,te.Z)({}),Y=Boolean(Q.postalCode),{data:K}=(0,_.Pu)({variables:{geolocated:Y}}),J=(0,t.useRef)(null),ee=(0,t.useRef)(null),[ne,ie]=(0,t.useState)(!1),[ae,re]=(0,t.useState)(""),[oe,se]=(0,t.useState)(),[le,de]=(0,t.useState)(!1),ue=(0,Se.P)(),{visible:me}=(0,fe.e2)(),pe=(0,d.d)(),{visible:ge}=(0,fe.Q5)({skip:!Y}),ke=(null==K||null===(n=K.viewLayout.homepage.hero)||void 0===n?void 0:n.mobileBackgroundImage.resizedUrl)||"",he=((e,n)=>(0,g.k)((i=>({leftSideContainer:{width:"590px",height:"420px",margin:"0 auto"},countryChooser:{position:"absolute",paddingTop:p.spacing.s24},container:{width:"100%",minHeight:"428px",position:"relative",display:"flex",justifyContent:"center",flexDirection:"column",margin:"0 auto",marginBottom:p.spacing.s32,backgroundPosition:"right center",backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e,")"),backgroundColor:"#deedd6",[p.responsive.down("r")]:{backgroundSize:"contain"},[p.responsive.down("c")]:{justifyContent:"flex-end",minHeight:"380px",marginBottom:p.spacing.s24,backgroundImage:"url(".concat(n,")"),backgroundPosition:"center top",backgroundSize:"cover"}},lpsContainer:{marginBottom:p.spacing.s32},noAddressContainer:{minHeight:"220px",[p.responsive.down("c")]:{minHeight:"184px",backgroundImage:"unset"}},contentContainer:{maxWidth:"1368px",width:"100%",margin:"auto",display:"flex",flexDirection:"column"},contents:{padding:"".concat(p.spacing.s24,"px 0 ").concat(p.spacing.s24,"px 144px"),[p.responsive.down("c")]:{padding:p.spacing.s16}},noAddressContents:{[p.responsive.down("c")]:{padding:"".concat(p.spacing.s32,"px ").concat(p.spacing.s16,"px")}},heading:{...i.typography.titleLarge,fontSize:"41px",lineHeight:"52px",color:i.colors.brandSecondaryDark,fontWeight:600,margin:0,width:"578px",[p.responsive.down("c")]:{...i.typography.titleLarge,width:"256px"}},headingVariant:{width:"450px",[p.responsive.down("c")]:{...i.typography.titleLarge,textAlign:"center",width:"100%"}},refreshedHeading:{width:"100%"},subheading:{...i.typography.bodyMedium2,color:i.colors.brandSecondaryDark,margin:"".concat(p.spacing.s16,"px 0 0 0"),[p.responsive.down("c")]:{display:"none"}},addressContainer:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:p.spacing.s24,[p.responsive.down("c")]:{flexDirection:"column",marginTop:p.spacing.s48,marginBottom:p.spacing.s16}},refreshedAddressContainer:{[p.responsive.down("c")]:{marginTop:p.spacing.s24}},loadingState:{textAlign:"center"},loadingAfterRetailerClick:{height:"100vh",position:"fixed"},noAddressBackgroundImage:{maxHeight:"220px",backgroundSize:"auto",[p.responsive.down("r")]:{backgroundSize:"contain"},[p.responsive.down("c")]:{backgroundImage:"unset",maxHeight:"184px"}},serviceToggleContainer:{[p.responsive.down("c")]:{marginBottom:p.spacing.s12,marginLeft:p.spacing.s16,marginRight:p.spacing.s16}},headlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},headlineTitle:{display:"block",color:i.colors.brandPrimaryDark,...i.typography.titleLarge,fontSize:"48px",lineHeight:"55px",fontWeight:700,[p.responsive.down("c")]:{fontSize:"21px",lineHeight:"46px",fontWeight:600}},headline:{display:"block",color:i.colors.systemGrayscale70,...i.typography.titleLarge,fontSize:"48px",lineHeight:"55px",[p.responsive.down("c")]:{fontSize:"37px",lineHeight:"46px",fontWeight:700}},headlineSubTitle:{marginTop:p.spacing.s12,color:i.colors.systemSuccessDark,...i.typography.titleMedium,fontSize:"20px",[p.responsive.down("c")]:{...i.typography.bodyLarge1,maxWidth:"210px"}},headlineServiceToggleContainer:{marginTop:p.spacing.s24,maxWidth:"289px",[p.responsive.down("c")]:{maxWidth:"289px"}}}))))((null==K||null===(i=K.viewLayout.homepage.hero)||void 0===i?void 0:i.backgroundImage.resizedUrl)||"",ke)(),be=(null==K||null===(a=K.viewLayout.homepage.hero)||void 0===a?void 0:a.geolocationErrorString)||"",xe=!C,Ne=xe?null==K||null===(o=K.viewLayout.homepage.hero)||void 0===o?void 0:o.headingString:"".concat(null==K||null===(s=K.viewLayout.homepage.hero)||void 0===s?void 0:s.refreshedHeadingString," ").concat(f),Ce=null==K||null===(l=K.viewLayout.homepage.hero)||void 0===l?void 0:l.activationPostAddressVariant,Le=(null==I?void 0:I.postalCode)||(null==I?void 0:I.streetAddress),Te=e=>{e.searchParams.set("guest","true"),window.location.assign(e.toString())},_e=e=>{S(e)};(0,t.useEffect)((()=>{if(I&&!ue){const{viewSection:{lineOneString:e,lineTwoString:n}}=I;re("".concat(e,", ").concat(n)),ie(!0)}}),[I,ue]);const Be=ge?(0,k.tZ)("div",{css:he.lpsContainer,children:(0,k.tZ)(we,{heroData:K})}):(0,k.tZ)(k.HY,{children:(0,k.tZ)("div",{css:[he.container,ue&&he.noAddressContainer,""],children:(0,k.BX)("div",{css:he.contentContainer,children:[(0,k.tZ)("div",{css:he.countryChooser,children:(0,k.tZ)(E,{})}),(0,k.BX)("div",{css:[he.contents,ue&&he.noAddressContents,""],ref:ee,children:[(0,k.tZ)("h1",{css:[he.heading,!xe&&he.refreshedHeading,""],children:Ne}),xe&&(0,k.tZ)("p",{css:he.subheading,children:null==K||null===(c=K.viewLayout.homepage.hero)||void 0===c?void 0:c.subheadingString}),!ue&&(0,k.BX)("div",{css:[he.addressContainer,C&&he.refreshedAddressContainer,""],children:[C&&(0,k.tZ)(ye,{activeService:y,onServiceClick:_e,heroData:K}),(0,k.tZ)(W,{placeholder:null==K||null===(u=K.viewLayout.homepage.hero)||void 0===u?void 0:u.inputPlaceholderString,currentLocation:I,currentLocationButtonText:null==K||null===(m=K.viewLayout.homepage.hero)||void 0===m?void 0:m.currentLocationString,setCurrentLocation:L,setLocationUpdate:H,inputRef:J,errorText:z,geoLocationErrorText:be,setErrorState:e=>V(e),hideResults:ne,setHideResults:ie,currentInput:ae,setCurrentInput:re,addressFormRef:v,postAddressVariant:Ce||"",ignoreAddressOutsideClick:le,setIgnoreAddressOutsideClick:de,heroData:K,enableTracking:!0})]})]})]})})});return(0,k.BX)(k.HY,{children:[j&&(0,k.tZ)(p.LoadingGenericOnExit,{css:he.loadingAfterRetailerClick}),Be,(0,k.tZ)(Ae,{}),(0,k.tZ)(ce,{hideHeadline:!xe,onRetailerClick:(e,n)=>{if(me&&n)return n.preventDefault(),R({signup:e.url,login:e.url}),void Z(Ie.y.Signup);var i,t,a;if(!Le&&!ue)return T("retailer_click",{source:"browse_stores",source_value:"address_input"}),V((null==K||null===(i=K.viewLayout.homepage.hero)||void 0===i?void 0:i.enterAddressString)||null),de(!0),null===(t=J.current)||void 0===t||t.focus(),void(null===(a=ee.current)||void 0===a||a.scrollIntoView());const r="pickup"===y&&e.pickupUrl?e.pickupUrl:e.url;se(e),((e,n,i)=>{const t=new URL(e,window.location.origin),a=G.get("code");if(a&&t.searchParams.set("code",a),Le||ue){if($(!0),T(n,{source:i,source_value:"guest_user_create",source1:y}),!x||!N)return void Te(t);P({variables:{postalCode:x,streetAddress:N}}).then((()=>{window.location.assign(t.toString())})).catch((e=>{w.Z.error("Error creating a guest user",e),Te(t)}))}else q(t.toString()),null==h||h.show()})(r,"retailer_click","browse_stores")},postalCode:x,coordinates:b,region:f,filter:y,toggleVisible:C,updatedLocation:O,setLocationUpdate:H,onServiceClick:_e,handleTrack:T,addressModalState:h,showAddressModalHeadline:ue}),!pe&&(0,k.tZ)(ve,{}),h&&(0,k.tZ)(Ze,{selectedRetailer:oe,finalUrl:M,modalState:h}),(0,k.tZ)(De,{}),(0,k.tZ)(X.Z,{authModalProps:D,postAuthPaths:B})]})};var Be=i(71080);const Re=(0,g.k)((e=>({container:{display:"flex",flexDirection:"column",maxWidth:"100%",backgroundColor:e.colors.systemGrayscale00,alignItems:"center",justifyContent:"center",padding:"".concat(p.spacing.s32,"px ").concat(p.spacing.s32,"px ").concat(p.spacing.s32,"px")},title:{textAlign:"center",paddingBottom:p.spacing.s32,...e.typography.titleLarge,fontWeight:"normal",maxWidth:"500px",color:e.colors.systemGrayscale70,[p.responsive.up("xl")]:{paddingBottom:p.spacing.s48},[p.responsive.down("l")]:{fontSize:"28px",lineHeight:"32px"},[p.responsive.down("c")]:{fontSize:"23px"}},text:{padding:p.spacing.s24,minHeight:"160px",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},sections:{display:"flex",flexDirection:"row",width:"100%",[p.responsive.up("xl")]:{"> :last-child":{marginRight:0}},[p.responsive.down("l")]:{flexDirection:"column"}},picture:{width:"100%",borderRadius:e.radius.r8,marginBottom:p.spacing.s16},desktopPicture:{display:"block",[p.responsive.down("c")]:{display:"none"}},mobilePicture:{display:"none",[p.responsive.down("c")]:{display:"block"}}}))),Ue=(0,g.k)((e=>({text:{padding:p.spacing.s32,display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},header:{...e.typography.titleLarge,color:e.colors.systemGrayscale70,fontWeight:600,maxWidth:180,textAlign:"left",hyphens:"auto",wordBreak:"break-word",[p.responsive.down("l")]:{maxWidth:"unset",fontSize:"28px",lineHeight:"32px"}},body:{fontSize:"23px",lineHeight:"28px",fontWeight:400,color:e.colors.systemGrayscale70,margin:"".concat(p.spacing.s24,"px 0 0"),textAlign:"left",[p.responsive.down("l")]:{fontSize:"18px",lineHeight:"26px"}},section:{backgroundColor:e.colors.systemGrayscale10,borderRadius:e.radius.r8,padding:0,flex:"1",display:"flex",flexDirection:"column",marginRight:p.spacing.s8,minWidth:"inherit",[p.responsive.down("l")]:{marginBottom:p.spacing.s8,marginRight:0}},clearButtonStyles:{background:"none",border:"none",cursor:"pointer",fontFamily:"inherit",width:"100%"},desktop:{display:"block",[p.responsive.down("r")]:{display:"none"}},mobile:{display:"none",[p.responsive.down("r")]:{display:"block"}}})));const Ge=function(e){let{header:n,text:i}=e;const a=Ue(),[r,o]=(0,t.useState)(!1),s=()=>"aria-".concat(n.replace(/\s/g,"")),l={[p.responsive.down("r")]:{display:r?"block":"none"}};return(0,k.BX)("div",{css:a.section,children:[(0,k.BX)("div",{css:[a.text,a.desktop,""],children:[(0,k.tZ)("h3",{css:a.header,children:n}),(0,k.tZ)("p",{css:a.body,children:i})]}),(0,k.BX)("div",{css:[a.text,a.mobile,""],children:[(0,k.tZ)("h3",{children:(0,k.tZ)("button",{css:[a.clearButtonStyles,a.header,""],onClick:()=>{o(!r)},"aria-controls":s(),"aria-expanded":r,children:n})}),(0,k.tZ)("p",{id:s(),css:[a.body,l,""],children:i})]})]})};const We=function(e){let{title:n,image:i,mobile_image:t,stats:a,picture:r,mobile_picture:o}=e;const s=Re(),l=(0,p.useTheme)(),d={backgroundImage:"url(".concat(i,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:0,paddingTop:"34.63%",borderRadius:l.radius.r8,marginBottom:"16px",[p.responsive.down("c")]:{backgroundImage:"url(".concat(t,")"),paddingTop:"101%"}};return(0,k.BX)("div",{css:s.container,children:[(0,k.tZ)("h2",{css:s.title,children:n}),(0,k.tZ)("div",{css:s.sections,children:r&&o?(0,k.BX)(k.HY,{children:[(0,k.tZ)(Be.Z,{...r,style:{...s.picture,...s.desktopPicture},loading:"lazy",decoding:"async"}),(0,k.tZ)(Be.Z,{...o,style:{...s.picture,...s.mobilePicture},loading:"lazy",decoding:"async"})]}):(0,k.tZ)("div",{css:d})}),(0,k.tZ)("div",{css:s.sections,children:a.map((e=>{let{header:n,text:i}=e;return(0,k.tZ)(Ge,{header:n,text:i},n)}))})]})},Me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StatsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"citiesSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"citiesTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordersSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordersTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productsSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productsTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statsImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"statsMobileImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"storeSubtitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storeTitleString"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:505,source:{body:"\n  query StatsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        stats {\n          id\n          citiesSubtitleString\n          citiesTitleString\n          headlineString\n          ordersSubtitleString\n          ordersTitleString\n          productsSubtitleString\n          productsTitleString\n          statsImage {\n            url\n          }\n          statsMobileImage {\n            url\n          }\n          storeSubtitleString\n          storeTitleString\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const qe=function(){const{data:e}=(0,u.aM)(Me),n=null==e?void 0:e.viewLayout.homepage.stats;if(!n)return null;const i={title:n.headlineString,image:n.statsImage.url,mobile_image:n.statsMobileImage.url,stats:[{header:n.productsTitleString,text:n.productsSubtitleString},{header:n.citiesTitleString,text:n.citiesSubtitleString},{header:n.storeTitleString,text:n.storeSubtitleString},{header:n.ordersTitleString,text:n.ordersSubtitleString}]};return(0,k.tZ)(We,{...i})};var Oe=i(43963),He=i(66705);const ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ValuePropsLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewLayout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueProps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startButtonString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chooseImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemsTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemsBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemsImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updatesBodyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesTitleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatesImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:650,source:{body:"\n  query ValuePropsLayout {\n    viewLayout {\n      id\n      homepage {\n        id\n        valueProps {\n          id\n          headlineString\n          startButtonString\n          chooseTitleString\n          chooseBodyString\n          chooseImage {\n            templateUrl\n            url\n            altText\n          }\n          itemsTitleString\n          itemsBodyString\n          itemsImage {\n            templateUrl\n            url\n            altText\n          }\n          updatesBodyString\n          updatesTitleString\n          updatesImage {\n            templateUrl\n            url\n            altText\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const Ee=function(){const{data:e}=(0,u.aM)(ze),n=null==e?void 0:e.viewLayout.homepage.valueProps;return n?(0,k.tZ)(Oe.Z,{header:n.headlineString,columns:[{title:n.chooseTitleString,content:n.chooseBodyString,image:n.chooseImage},{title:n.updatesTitleString,content:n.updatesBodyString,image:n.updatesImage},{title:n.itemsTitleString,content:n.itemsBodyString,image:n.itemsImage}],columnType:He.QD.filled,size:He.bg.medium,headerStyleOverrides:{textAlign:"center"}}):null},Ve=(0,g.k)((e=>({imageContainer:{display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(p.spacing.s24,"px 0")},modalBackground:{zIndex:-2,width:"520px",height:"280px",[p.responsive.down("c")]:{width:"343px",height:"184px"}},couponText:{position:"absolute",fontSize:"60px",color:"#0E6148",marginBottom:"".concat(p.spacing.s12,"px"),[p.responsive.down("c")]:{fontSize:"39px"}},couponImage:{zIndex:-1,position:"absolute",width:"312px",height:"160px",[p.responsive.down("c")]:{width:"205.8px",height:"105.54px"}},heading:{...e.typography.titleLarge,textAlign:"center",color:e.colors.systemGrayscale70,[p.responsive.down("c")]:{...e.typography.titleMedium}},subheading:{...e.typography.bodyLarge2,textAlign:"center",color:e.colors.systemGrayscale70,a:{color:e.colors.systemGrayscale70},[p.responsive.down("c")]:{...e.typography.bodyMedium2}},headerContainer:{display:"flex",justifyContent:"center"},logoImage:{height:"100%"}}))),Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShareCodeDetailsLayout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareCodeDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"shareCode"},value:{kind:"Variable",name:{kind:"Name",value:"shareCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrersName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"landingReferralsModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheadingString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"couponTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsCtaString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsUrlString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCloseLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headerLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"buttonTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"couponImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resizedUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:642,source:{body:"\n  query ShareCodeDetailsLayout($shareCode: String!) {\n    shareCodeDetails(shareCode: $shareCode) {\n      referrersName\n      viewSection {\n        id\n        landingReferralsModal {\n          id\n          headingString\n          subheadingString\n          couponTextString\n          termsCtaString\n          termsUrlString\n          modalCloseLabelString\n          headerLogoImage {\n            id\n            resizedUrl\n          }\n          buttonTextString\n          backgroundImage {\n            id\n            resizedUrl\n          }\n          couponImage {\n            id\n            resizedUrl\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Xe=e=>(0,u.aM)(Pe,{skip:!e,variables:{shareCode:e}});const je=function(e){var n;let{shareCode:i}=e;const r=(0,a.K$)({visible:!1}),o=Ve(),s=()=>{r.setVisible(!1)},{data:l}=Xe(i),d=null==l||null===(n=l.shareCodeDetails)||void 0===n?void 0:n.viewSection.landingReferralsModal,[c,u]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{!c&&d&&(r.setVisible(!0),u(!0))}),[c,r,d]),!d)return null;const{headingString:m,subheadingString:p,couponTextString:g,termsCtaString:v,termsUrlString:h,modalCloseLabelString:y,buttonTextString:S,headerLogoImage:f,backgroundImage:b,couponImage:x}=d;return(0,k.tZ)(k.HY,{children:(0,k.BX)(D.tX1,{hideOnClickOutside:!0,hideOnEsc:!0,modal:r,children:[(0,k.tZ)(D.xBx,{accessibleLabels:{close:y},hide:s,children:(0,k.tZ)("div",{css:o.headerContainer,children:(0,k.tZ)("img",{src:f.resizedUrl,alt:"",css:o.logoImage})})}),(0,k.tZ)(D.hzk,{children:(0,k.BX)("div",{children:[(0,k.BX)("div",{css:o.imageContainer,children:[(0,k.tZ)("img",{src:b.resizedUrl,alt:"",css:o.modalBackground}),g&&x?(0,k.BX)(k.HY,{children:[(0,k.tZ)("img",{src:x.resizedUrl,alt:"",css:o.couponImage}),(0,k.tZ)("h1",{css:o.couponText,children:g})]}):(0,k.tZ)(k.HY,{})]}),(0,k.tZ)("h2",{css:o.heading,children:m}),(0,k.BX)("p",{css:o.subheading,children:[p," ",(0,k.tZ)("a",{href:h,target:"_blank",rel:"noreferrer",children:v})]})]})}),(0,k.tZ)(D.mzw,{children:(0,k.tZ)(D.KMU,{onClick:s,children:S})})]})})},$e=(0,g.k)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"center",paddingLeft:"136px"},mobileContainer:{display:"flex",flexDirection:"column",alignItems:"center"},textContainer:{display:"flex",flexDirection:"column",paddingTop:"80px",paddingBottom:"80px",width:"50%",maxWidth:"460px"},imageContainer:{width:"50%",display:"flex",justifyContent:"center",paddingTop:"64px",paddingBottom:"64px"},phoneNumberInputContainer:{display:"flex",flexDirection:"column"},textInputContainer:{paddingBottom:p.spacing.s24,width:"100%",borderRadius:p.spacing.s12},appLinkContainer:{display:"flex",width:"max-content",flexDirection:"row",height:"56px",justifyContent:"space-between"},appLink:{backgroundColor:e.colors.brandSecondaryLight,alignItems:"center",padding:"19px 71px",borderRadius:p.spacing.s12,marginRight:p.spacing.s16},imageCenter:{display:"flex",justifyContent:"center",alignItems:"center"},linkImage:{height:"15px",width:"15px",marginRight:"13px"},href:{textDecoration:"none",color:e.colors.systemGrayscale70,...e.typography.bodyMedium1},textButton:{fontFamily:"inherit",justifyContent:"center"},header:{...e.typography.titleLarge,fontWeight:600,color:e.colors.systemGrayscale70},subheader:{...e.typography.bodyLarge2,color:e.colors.systemGrayscale70},messageSent:{marginTop:p.spacing.s24,marginBottom:p.spacing.s24,...e.typography.bodyMedium1,color:e.colors.systemGrayscale70},image:{width:"250px",height:"490px"},mobileImage:{width:"250px",padding:"30px 60px 40px 60px"},mobileHeader:{...e.typography.titleMedium,fontWeight:600,color:e.colors.systemGrayscale70,textAlign:"center"},mobileSubheader:{...e.typography.bodyLarge2,color:e.colors.systemGrayscale50,textAlign:"center",paddingBottom:"20px"},mobileTextContainer:{padding:"0px 30px",alignItems:"center"},successMessageContainer:{display:"flex",flexDirection:"row"},checkMark:{width:"19px",height:"14px",padding:"6px 16px 6px 2px",marginTop:p.spacing.s24,marginBottom:p.spacing.s24},desktopOnly:{[p.responsive.down("c")]:{display:"none"}},mobileOnly:{[p.responsive.up("r")]:{display:"none"}}})));const Qe=function(e){let{header:n,subheader:i,image_url:t,mobile_cta:a,app_download_url:r}=e;const o=$e(),s=r.split("?")[0],l=new URLSearchParams(r.split("?")[1]).get("utm_term")||"";return(0,k.tZ)("div",{css:o.mobileOnly,children:(0,k.BX)("div",{css:o.mobileContainer,children:[(0,k.tZ)("img",{src:t,alt:"Screenshot of Instacart app features",css:o.mobileImage}),(0,k.BX)("div",{css:o.mobileTextContainer,children:[(0,k.tZ)("h3",{css:o.mobileHeader,children:n}),(0,k.tZ)("p",{css:o.mobileSubheader,children:i}),(0,k.BX)("form",{children:[(0,k.tZ)("input",{type:"hidden",name:"utm_term",value:l}),(0,k.tZ)(D.KMU,{formAction:s,css:o.textButton,children:a})]})]})]})})},Ye={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NativeAppUpsellLayout"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingNativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appDownloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iosAppUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"androidAppUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subheaderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iosNameString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"androidNameString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaTextWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaTextMobileWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disclaimerString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"termsString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privacyString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageSentWebString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneLabelPlaceholderString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumberValidationErrorString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upsellImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkMarkImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"appStoreIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"playStoreIconImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:763,source:{body:"\n  query NativeAppUpsellLayout {\n    landingNativeAppUpsell {\n      appDownloadUrl\n      iosAppUrl\n      androidAppUrl\n      viewSection {\n        nativeAppUpsell {\n          headerString\n          subheaderString\n          iosNameString\n          androidNameString\n          ctaTextWebString\n          ctaTextMobileWebString\n          disclaimerString\n          termsString\n          privacyString\n          messageSentWebString\n          phoneLabelPlaceholderString\n          phoneNumberValidationErrorString\n          upsellImage {\n            url\n          }\n          checkMarkImage {\n            url\n          }\n          appStoreIconImage {\n            url\n          }\n          playStoreIconImage {\n            url\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const Ke=function(){const{data:e}=(0,u.aM)(Ye),n=null==e?void 0:e.landingNativeAppUpsell,i=null==n?void 0:n.viewSection.nativeAppUpsell;return i&&n?(0,k.tZ)(Qe,{header:i.headerString,subheader:i.subheaderString,image_url:i.upsellImage.url,mobile_cta:i.ctaTextMobileWebString,app_download_url:n.appDownloadUrl}):null},Je=["Prospecting_Evergreen_iMAO_Web_US_IC_NonDPA_Conversion-Purchase","Prospecting_Evergreen_iMAO_WebApp_US_IC_NonDPA_Purchase_BranchTestCell"],en="native-app-upsell-interstitial";const nn=function(e){let{titleString:n,ratingsTextString:i,offerMessageString:a,secondaryActionLabelString:o,primaryActionLabelString:s,backgroundImageUrl:l,carrotLogoImageUrl:d,carrotInstacartLogoImageUrl:c,appDownloadUrl:u,reviewStarImageUrl:m,onContinueInBrowserClicked:v,onContinueClicked:h,onVisible:y}=e;const S=(f=l,(0,g.k)((e=>({mobileSplash:{width:"100%",height:"100%",zIndex:2e4,backgroundColor:e.colors.systemGrayscale00,top:0,left:0,position:"fixed"},primaryLogo:{top:"32px",position:"absolute",width:"224px"},primaryLogoImg:{width:"100%"},freeDeliveryText:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale70,marginTop:p.spacing.s4},container:{backgroundImage:"url('".concat(f,"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",display:"flex",justifyContent:"center",height:"70vh"},titleContainer:{color:e.colors.brandSecondaryDark,textAlign:"center",margin:"".concat(p.spacing.s16,"px 0 0 0"),...e.typography.titleLarge},panelContent:{position:"relative",top:"-48px",paddingTop:"20px",paddingLeft:p.spacing.s32,paddingRight:p.spacing.s32,display:"flex",alignItems:"center",flexFlow:"column nowrap"},fixedPanel:{backgroundColor:e.colors.systemGrayscale00,bottom:"0",width:"100%",position:"fixed"},reviewText:{...e.typography.bodyMedium2,color:e.colors.brandSecondaryRegular,letterSpacing:"0",lineHeight:"18px",marginTop:"10px"},secondaryLogoContainer:{boxSizing:"content-box",width:"64px",height:"64px",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid ".concat(e.colors.systemGrayscale20),borderRadius:"10px",background:"white"},secondaryLogoImg:{maxWidth:"100%",maxHeight:"100%"},starContainer:{marginTop:"16px",display:"flex"},star:{width:"18px",marginLeft:"5px",marginRight:"5px"},logoNameImage:{maxWidth:"47%"},ctaButton:{marginTop:"-33px",paddingLeft:"20px",paddingRight:"20px",marginBottom:p.spacing.s12},skipButton:{paddingLeft:"20px",paddingRight:"20px",marginBottom:p.spacing.s12},buttonTextStyle:{":hover":{textDecoration:"none"}}})))());var f;const[b,x]=(0,t.useState)(!0),w=u.split("?")[0],N=new URLSearchParams(u.split("?")[1]),{search:F}=(0,r.useLocation)();((e,n)=>{const i=n.get("utm_campaign");i&&Je.includes(i)&&n.forEach(((n,i)=>{e.has(i)?e.set(i,n):e.append(i,n)}))})(N,new URLSearchParams(F));const C=[];for(const[e,n]of N)C.push((0,k.tZ)("input",{type:"hidden",name:e,value:n},e));return(0,t.useEffect)((()=>{b&&("undefined"!=typeof document&&(()=>{const e=document.querySelector("#".concat(en,'[role="dialog"]')),n=null==e?void 0:e.querySelector("#ctaPrimary"),i=null==e?void 0:e.querySelector("#ctaSecondary");null==n||n.focus(),null==e||e.addEventListener("keydown",(function(e){e.target===n&&"Tab"===e.key&&e.shiftKey?(e.preventDefault(),null==i||i.focus()):e.target!==i||"Tab"!==e.key||e.shiftKey||(e.preventDefault(),null==n||n.focus())}))})(),null==y||y())}),[y,b]),(0,t.useEffect)((()=>{b&&(document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden",document.body.style.height="100vh")}),[b]),b?(0,k.BX)("div",{css:S.mobileSplash,role:"dialog","aria-modal":"true","aria-labelledby":"interstitial",id:en,children:[(0,k.tZ)("div",{css:(0,Y.iv)({...S.container},""),"data-testid":"background",children:(0,k.tZ)("div",{css:S.primaryLogo,children:(0,k.tZ)("img",{css:S.primaryLogoImg,src:c,alt:"Instacart logo"})})}),(0,k.BX)("div",{css:S.fixedPanel,children:[(0,k.BX)("div",{css:S.panelContent,children:[(0,k.tZ)("div",{css:S.secondaryLogoContainer,children:(0,k.tZ)("img",{css:S.secondaryLogoImg,src:d,alt:"Instacart logo"})}),(0,k.tZ)("div",{css:S.starContainer,children:[1,2,3,4,5].map((e=>(0,k.tZ)("img",{src:m,css:S.star,alt:""},e.toString())))}),(0,k.tZ)("span",{css:S.reviewText,children:i}),(0,k.tZ)("h1",{id:"interstitial",css:S.titleContainer,children:n}),(0,k.tZ)("span",{css:S.freeDeliveryText,children:a})]}),(0,k.tZ)("div",{css:S.ctaButton,children:(0,k.BX)("form",{children:[C,(0,k.tZ)(D.KMU,{id:"ctaPrimary","data-testid":"ctaPrimary",formAction:w,onClick:h,children:s})]})}),(0,k.tZ)("div",{css:S.skipButton,children:(0,k.tZ)(D.kqC,{id:"ctaSecondary","data-testid":"ctaSecondary",onClick:()=>{x(!1),document.body.style.overflowY="",document.documentElement.style.overflowY="",document.body.style.height="",null==v||v()},children:o})})]})]}):(0,k.tZ)("div",{})};var tn=i(9401),an=i(96749);const rn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NativeAppUpsellInterstitial"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"landingNativeAppUpsellInterstitial"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appDownloadUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nativeAppUpsell"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"easeRestrictionVariant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offerMessageString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryActionLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaryActionLabelString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingsTextString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"carrotInstacartLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"carrotLogoImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewStarImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:592,source:{body:"\n  query NativeAppUpsellInterstitial {\n    landingNativeAppUpsellInterstitial {\n      appDownloadUrl\n      viewSection {\n        nativeAppUpsell {\n          easeRestrictionVariant\n          offerMessageString\n          primaryActionLabelString\n          secondaryActionLabelString\n          titleString\n          ratingsTextString\n          backgroundImage {\n            url\n          }\n          carrotInstacartLogoImage {\n            url\n          }\n          carrotLogoImage {\n            url\n          }\n          reviewStarImage {\n            url\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};const on=function(){const{data:e}=(0,u.aM)(rn,n);var n;const i=null==e?void 0:e.landingNativeAppUpsellInterstitial,a=null==i?void 0:i.viewSection.nativeAppUpsell,r=(0,tn.i)(),{trackEvent:o}=(0,F.r)(),s=(0,t.useCallback)((()=>{o("app_download.view",{source:"logout",source_value:"m3"}),"undefined"!=typeof document&&(0,an.d8)("m3_app_download_banner","true",{expires:1})}),[o]);return r&&i&&a?"true"!==a.easeRestrictionVariant&&r&&"true"===(0,an.ej)("m3_app_download_banner")?null:(0,k.tZ)(nn,{titleString:a.titleString,ratingsTextString:a.ratingsTextString,offerMessageString:a.offerMessageString,primaryActionLabelString:a.primaryActionLabelString,secondaryActionLabelString:a.secondaryActionLabelString,backgroundImageUrl:a.backgroundImage.url,appDownloadUrl:i.appDownloadUrl,carrotInstacartLogoImageUrl:a.carrotInstacartLogoImage.url,carrotLogoImageUrl:a.carrotLogoImage.url,reviewStarImageUrl:a.reviewStarImage.url,onContinueInBrowserClicked:()=>{o("app_download.click",{source:"continue_in_browser",source_value:"m3"})},onContinueClicked:()=>{o("app_download.click",{source:"continue",source_value:"m3"})},onVisible:s}):null},sn=(0,g.k)((e=>({body:{backgroundColor:e.colors.systemGrayscale00},container:{margin:"0 auto",maxWidth:"1152px"},qrBannerContainer:{marginBottom:"16px"}})));var ln=i(76742),dn=i(13883);const cn=(0,dn.Td)({featureVariantType:dn.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_homepage_search_bar",variants:["existing_background","dark_background"]}}),un=(0,dn.Td)({featureVariantType:dn.bc.visitorMarketplaceWeb,rouletteDependency:{featureName:"acq_mobile_homepage_search_bar",variants:["variant"]}});const mn=function(){var e,n;const{storedLocation:i,storedCity:a}=(0,Ne.m)(),r=(0,te.Z)(),o=(null==i?void 0:i.postalCode)||(a?null:r.postalCode),s=null==i||null===(e=i.coordinates)||void 0===e?void 0:e.latitude,l=null==i||null===(n=i.coordinates)||void 0===n?void 0:n.longitude,c=s&&l?{latitude:s,longitude:l}:void 0,{data:u}=((e,n)=>(0,V.eG)({skip:!e&&!n,variables:{postalCode:e,coordinates:n}}))(o,c),m=(0,t.useMemo)((()=>null==u?void 0:u.availableRetailerServicesWithoutAuth.map((e=>e.retailer.id))),[null==u?void 0:u.availableRetailerServicesWithoutAuth]),p=(0,d.d)(),{visible:g}=un(),{visible:v,loading:h}=cn({skip:p&&!g}),y=v;return h?null:(0,k.tZ)(ln.Z,{retailerIds:m,postalCode:o||void 0,showSearchBar:v,isSticky:y})};var pn={name:"l0mio9",styles:"display:none;visibility:hidden"};const gn=function(){var e;const n=sn(),{search:i}=(0,r.useLocation)(),c=new URLSearchParams(i).get("code"),{data:u}=Xe(c),m=null==u||null===(e=u.shareCodeDetails)||void 0===e?void 0:e.referrersName,p=(0,t.useRef)(null),g=(0,a.K$)({visible:!1}),[v,y]=(0,t.useState)("delivery"),S=(0,d.d)(),{visible:f}=(0,fe.l0)(),b=(0,t.useMemo)((()=>({user_channel_1:"home",user_channel_2:m?"referrals":"home",user_channel_4:m?null==c?void 0:c.toLowerCase():""})),[m,c]);return(0,k.BX)(s.GH,{value:{properties:b},children:[(0,k.tZ)(l.Z,{}),(0,k.BX)(Ce,{children:[S&&(0,k.tZ)(on,{}),(0,k.tZ)(je,{shareCode:c}),f&&(0,k.tZ)(h,{threeFreeDelivery:!0}),(0,k.tZ)("header",{children:(0,k.tZ)(mn,{})}),(0,k.BX)("main",{children:[(0,k.tZ)(_e,{addressFormRef:p,addressModalState:g,activeService:v,setActiveService:y}),(0,k.tZ)("a",{css:pn,href:"/rest/v8/store/hub",children:"Main"}),(0,k.tZ)("div",{css:n.body,children:(0,k.BX)("div",{css:n.container,children:[(0,k.tZ)(Ee,{}),S&&(0,k.tZ)(Ke,{}),(0,k.tZ)(qe,{}),(0,k.tZ)(x,{})]})})]}),(0,k.tZ)("footer",{children:(0,k.tZ)("div",{children:(0,k.tZ)(o.Z,{})})})]})]})}},6471:(e,n,i)=>{i.d(n,{P:()=>s});var t=i(84773),a=i(91663),r=i(2014);const o=[24,46,15],s=()=>{var e;const n=(()=>{var e,n;const{postalCode:i}=(0,t.Z)(),r=(0,a.S_)({skip:!i,variables:{postalCode:i}}),s=Number(null===(e=r.data)||void 0===e||null===(n=e.zoneV2)||void 0===n?void 0:n.id),l=Boolean(i&&o.includes(s));if(s&&!l)return"noAddress"})(),{data:i}=(0,r.Cy)({skip:"noAddress"===n});return"noAddress"===n||"true"===(null==i||null===(e=i.viewLayout.homepage.noGeoRetailerList)||void 0===e?void 0:e.showNoGeoRetailerListVariant)}},1761:(e,n,i)=>{i.d(n,{o:()=>l});var t=i(83162),a=i(83457);const r=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"10px 0 10px 0"},question:{alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",margin:"10px 0",padding:0,width:"100%",color:e.colors.systemGrayscale70,height:"auto",fontSize:"22px",fontWeight:600,whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.down("c")]:{fontSize:"18px"}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"16px"},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"16px",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 40px 10px 0"},closeAnswer:{display:"none"}}))),o=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"16px 0",[a.responsive.up("r")]:{padding:"24px 0"}},question:{alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",width:"100%",color:"#424242",padding:0,height:"auto",fontSize:"24px",lineHeight:"36px",fontWeight:"normal",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{fontSize:"28px",lineHeight:"32px"}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"16px",lineHeight:"26px",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"}}))),s=(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,cursor:"pointer",alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"}}))),l={base:r,homepage:o,productpage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),promospage:s,locationspage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,cursor:"pointer",padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{height:"0px",transition:"height 0.5s",overflow:"hidden",fontSize:"15px",lineHeight:"22px",color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),affiliatepage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"".concat(a.spacing.s12,"px 0")},question:{...e.typography.bodyMedium1,alignItems:"center",background:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",margin:"".concat(a.spacing.s12,"px 0"),padding:0,width:"100%",color:e.colors.systemGrayscale70,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased"},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"16px",color:e.colors.systemGrayscale30},answerWrapper:{...e.typography.bodyMedium2,color:e.colors.systemGrayscale70,height:"0px",transition:"height 0.5s",overflow:"hidden",whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"".concat(a.spacing.s12,"px ").concat(a.spacing.s16,"px ").concat(a.spacing.s12,"px 0")},closeAnswer:{display:"none"}}))),taxonomypage:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},lastRoot:{padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,height:"0px",transition:"height 0.5s",overflow:"hidden",fontWeight:400,color:e.colors.systemGrayscale50,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 0 0 0",color:e.colors.systemGrayscale50,paddingBottom:"20px"},closeAnswer:{display:"none"}}))),storepage:(0,t.k)((e=>({header:{margin:0},root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20),padding:"8px 0",[a.responsive.up("r")]:{padding:"px 0"}},question:{...e.typography.subtitleMedium,fontWeight:600,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale70,padding:0,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased",[a.responsive.up("r")]:{...e.typography.subtitleLarge},":hover":{color:e.colors.systemGrayscale70},":focus":{color:e.colors.systemGrayscale70},":active":{color:e.colors.systemGrayscale70}},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 24px 15%",color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{marginLeft:"25%"}},answerWrapper:{...e.typography.subtitleMedium,fontWeight:400,height:"0px",transition:"height 0.5s",overflow:"hidden",color:e.colors.brandSecondaryRegular,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"10px 15% 0 0",color:e.colors.brandSecondaryRegular,paddingBottom:"20px",[a.responsive.up("r")]:{paddingRight:"20%"}},closeAnswer:{display:"none"},links:{color:e.colors.brandPrimaryRegular,textDecoration:"none","&:hover":{textDecoration:"underline"}}}))),klarnaPage:s,freshFunds:s,mWebPlaDesignRefresh:(0,t.k)((e=>({root:{borderBottom:"1px solid ".concat(e.colors.systemGrayscale20)},question:{...e.typography.bodyMedium1,alignItems:"center",background:"none",border:"none",display:"flex",justifyContent:"space-between",width:"100%",color:e.colors.systemGrayscale80,padding:16,height:"auto",whiteSpace:"normal",textAlign:"left",WebkitFontSmoothing:"antialiased"},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0 0 0 8%",color:e.colors.systemGrayscale60},answerWrapper:{...e.typography.bodyMedium2,height:"0px",transition:"height 0.5s",overflow:"hidden",color:e.colors.systemGrayscale80,whiteSpace:"pre-wrap"},expandedAnswer:{height:"auto",padding:"0 15% ".concat(a.spacing.s24,"px ").concat(a.spacing.s16,"px"),color:e.colors.systemGrayscale80},closeAnswer:{display:"none"},links:{...e.typography.linkSmall,color:e.colors.systemGrayscale80,textDecoration:"underline",textUnderlineOffset:3}})))}},69373:(e,n,i)=>{i.d(n,{Z:()=>C});var t=i(0),a=i(83457),r=i(80573),o=i(7356),s=i(83162),l=i(38839);const d=(0,s.k)((e=>({link:{color:e.colors.brandPrimaryRegular,textDecoration:"none"}})));const c=function(e){let{formattedAnswer:n,linkStrings:i}=e;const t=d(),s=e=>((e,n)=>{if(!n)return"";switch(e){case"external_help_link":return"https://".concat(n.externalHelpLinkString);case"external_pay_info_link":return"https://".concat(n.externalPayInfoLinkString);case"external_terms_link":return"https://".concat(n.externalTermsLinkString);case"internal_help_link":return"/".concat(n.internalHelpLinkString);case"internal_terms_link":return"/".concat(n.internalTermsLinkString);default:return r.Z.error("unknown link passed for klarna FAQs",{owner:o.Z.orders,linkName:e}),""}})(e,i);return(0,l.tZ)(l.HY,{children:n.sections.map((e=>e.name?(0,l.tZ)("a",{css:t.link,href:s(e.name),target:"_blank",rel:"noopener noreferrer",children:e.content},e.name):(0,l.tZ)(a.Text,{as:"span",typography:"bodyMedium2",color:"systemGrayscale50",children:e.content},e.content)))})};var u=i(3533),m=i(1761);const p=function(e){let{answer:n,last:i,question:r,style:o,trackFn:s,focusRef:d,formattedAnswer:p,linkStrings:g}=e;const[v,k]=(0,t.useState)(!1),{trackEvent:h}=(0,u.r)();(0,t.useEffect)((()=>{null!=d&&d.current&&d.current.focus()}),[d]);const y=m.o[o]||m.o.base,S=y?y():{},f="faq-".concat(r.replace(/\W+/g,"-").toLowerCase());return(0,l.BX)("div",{css:"taxonomypage"!==o&&"affiliatepage"!==o||!i?S.root:S.lastRoot,children:[(0,l.tZ)("h3",{children:(0,l.BX)("button",{css:S.question,onClick:()=>{s?s():h("signup.button_press",{source:"faq",source_value:r}),k((e=>!e))},"aria-controls":f,"aria-expanded":v,ref:d,children:[r,(0,l.tZ)("div",{css:S.iconWrapper,children:"mWebPlaDesignRefresh"===o?(0,l.tZ)(l.HY,{children:v?(0,l.tZ)(a.ChevronUpIcon,{size:24}):(0,l.tZ)(a.ChevronDownIcon,{size:24})}):(0,l.tZ)(l.HY,{children:v?(0,l.tZ)(a.SubtractIcon,{size:24}):(0,l.tZ)(a.AddIcon,{size:24})})})]})}),(0,l.BX)("div",{css:[S.answerWrapper,v?S.expandedAnswer:S.closeAnswer,""],id:f,children:[n,p&&(g||"freshFunds"===o)&&(0,l.tZ)(c,{formattedAnswer:p,linkStrings:g})]})]})},g=(0,s.k)((e=>({wrapper:{maxWidth:"1260px",margin:"0 auto"},root:{backgroundColor:e.colors.systemGrayscale00,padding:a.spacing.s32,[a.responsive.down("r")]:{padding:a.spacing.s8}},title:{...e.typography.titleLarge,fontWeight:600,marginBottom:a.spacing.s32,[a.responsive.down("r")]:{...e.typography.titleMedium}}}))),v=(0,s.k)((e=>({wrapper:{maxWidth:"950px",margin:"0 auto",padding:"".concat(a.spacing.s32,"px ").concat(a.spacing.s32,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px"}},root:{padding:0},title:{...e.typography.titleLarge,fontSize:"28px",lineHeight:"32px",textAlign:"center",fontWeight:"normal",marginBottom:a.spacing.s32,color:e.colors.systemGrayscale70,[a.responsive.up("r")]:{...e.typography.titleLarge,fontWeight:400,marginBottom:a.spacing.s24},[a.responsive.down("c")]:{fontSize:"23px"}}}))),k=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleLarge,fontSize:"18px",lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),h=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"0"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px"}}))),y=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s32,"px ").concat(a.spacing.s32,"px 60px")},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),S=(0,s.k)((e=>({wrapper:{color:e.colors.systemGrayscale70,maxWidth:"1152px",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleMedium,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),f=(0,s.k)((e=>({wrapper:{margin:"0 auto"},root:{backgroundColor:e.colors.systemGrayscale00,[a.responsive.down("r")]:{padding:a.spacing.s8}},title:{...e.typography.titleMedium}}))),b=(0,s.k)((e=>({wrapper:{width:"100%",margin:"0 auto",padding:"".concat(a.spacing.s16,"px ").concat(a.spacing.s16,"px 60px"),[a.responsive.up("r")]:{paddingBottom:"100px",paddingTop:"20px"},paddingTop:"5px"},root:{display:"flex",flexDirection:"column",width:"100%",margin:"0 auto"},title:{...e.typography.subtitleLarge,textAlign:"left",marginBottom:"0px",[a.responsive.up("l")]:{fontSize:"23px"}}}))),x=(0,s.k)((e=>({wrapper:{maxWidth:"1152px",margin:"0 auto",padding:"0",[a.responsive.down("l")]:{padding:"0 ".concat(a.spacing.s16,"px")}},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%",margin:"0 auto"},title:{...e.typography.titleLarge,lineHeight:"28px",textAlign:"left",fontWeight:"bold",marginBottom:"0px",color:"#003D29"},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"12px",marginBottom:"24px"},button:{...e.typography.bodyLarge1,maxWidth:"185px",maxHeight:"48px",background:"#0AAD0A",borderRadius:"44px"}}))),w={base:g,homepage:v,productpage:k,taxonomypage:y,promospage:h,locationspage:S,affiliatepage:f,storepage:b,klarnaPage:x,freshFunds:x,mWebPlaDesignRefresh:(0,s.k)((e=>({wrapper:{maxWidth:"1152px"},root:{display:"flex",flexDirection:"column",maxWidth:"1152px",width:"100%"},title:{...e.typography.subtitleLarge,color:e.colors.systemGrayscale80,padding:"".concat(a.spacing.s16,"px 0 6px ").concat(a.spacing.s16,"px")}})))};var N=i(96572),F=i(7335);const C=function(e){let{title:n,faqs:i,style:a,trackFn:r,showMore:o,showLess:s,useExpandButton:d}=e;const{t:c}=(0,F.F)(["globals.faqs"]),u=(0,t.useRef)(null),m=(w[a]||w.base)(),[g,v]=(0,t.useState)(!d),k=g?i.length:6,h=i.length>6;return(0,l.tZ)("div",{css:m.wrapper,children:(0,l.BX)("div",{css:m.root,children:[n&&(0,l.tZ)("h2",{css:m.title,children:n}),(0,l.tZ)("div",{children:i.slice(0,k).map(((e,n)=>(0,l.tZ)(p,{question:e.question,answer:e.answer,formattedAnswer:e.formattedAnswer,linkStrings:e.linkStrings,style:a,last:n===i.length-1,trackFn:r,focusRef:6===n&&d?u:void 0},e.question)))}),d&&(0,l.tZ)("div",{css:m.buttonContainer,children:h&&(0,l.tZ)(N.KMU,{css:m.button,onClick:()=>{v(!g)},children:k<i.length?o||c("faqs.show_more"):s||c("faqs.show_less")})})]})})}},95771:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(0),a=i(79685);function r(e,n){return e===n}function o(e,n,i){var o=i&&i.equalityFn?i.equalityFn:r,s=(0,t.useState)(e),l=s[0],d=s[1],c=(0,a.Z)((0,t.useCallback)((function(e){return d(e)}),[]),n,i),u=c[0],m=c[1],p=c[2],g=(0,t.useRef)(e);return(0,t.useEffect)((function(){o(g.current,e)||(u(e),g.current=e)}),[e,u,o]),[l,m,p]}},79685:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(0);function a(e,n,i){void 0===i&&(i={});var a=i.maxWait,r=(0,t.useRef)(null),o=(0,t.useRef)([]),s=i.leading,l=void 0===i.trailing||i.trailing,d=(0,t.useRef)(!1),c=(0,t.useRef)(null),u=(0,t.useRef)(!1),m=(0,t.useRef)(e);m.current=e;var p=(0,t.useCallback)((function(){clearTimeout(c.current),clearTimeout(r.current),r.current=null,o.current=[],c.current=null,d.current=!1}),[]);(0,t.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var g=(0,t.useCallback)((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];o.current=e,clearTimeout(c.current),d.current&&(d.current=!1),c.current||!s||d.current||(m.current.apply(m,e),d.current=!0),c.current=setTimeout((function(){var n=!0;s&&d.current&&(n=!1),p(),!u.current&&l&&n&&m.current.apply(m,e)}),n),a&&!r.current&&l&&(r.current=setTimeout((function(){var e=o.current;p(),u.current||m.current.apply(null,e)}),a))}),[a,n,p,s,l]),v=(0,t.useCallback)((function(){c.current&&(m.current.apply(null,o.current),p())}),[p]);return[g,p,v]}},3803:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(0);var a=function(e,n,i){return e[n]?e[n][0]?e[n][0][i]:e[n][i]:"contentBoxSize"===n?e.contentRect["inlineSize"===i?"width":"height"]:void 0};function r(e){void 0===e&&(e={});var n=e.onResize,i=(0,t.useRef)(void 0);i.current=n;var r=e.round||Math.round,o=(0,t.useRef)(),s=(0,t.useState)({width:void 0,height:void 0}),l=s[0],d=s[1],c=(0,t.useRef)(!1);(0,t.useEffect)((function(){return function(){c.current=!0}}),[]);var u,m,p,g,v,k,h=(0,t.useRef)({width:void 0,height:void 0}),y=(u=(0,t.useCallback)((function(n){return o.current&&o.current.box===e.box&&o.current.round===r||(o.current={box:e.box,round:r,instance:new ResizeObserver((function(n){var t=n[0],o="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",s=a(t,o,"inlineSize"),l=a(t,o,"blockSize"),u=s?r(s):void 0,m=l?r(l):void 0;if(h.current.width!==u||h.current.height!==m){var p={width:u,height:m};h.current.width=u,h.current.height=m,i.current?i.current(p):c.current||d(p)}}))}),o.current.instance.observe(n,{box:e.box}),function(){o.current&&o.current.instance.unobserve(n)}}),[e.box,r]),m=e.ref,p=(0,t.useRef)(null),g=(0,t.useRef)(null),v=(0,t.useRef)(),k=(0,t.useCallback)((function(){var e=null;p.current?e=p.current:m&&(e=m instanceof HTMLElement?m:m.current),g.current&&g.current.element===e&&g.current.reporter===k||(v.current&&(v.current(),v.current=null),g.current={reporter:k,element:e},e&&(v.current=u(e)))}),[m,u]),(0,t.useEffect)((function(){k()}),[k]),(0,t.useCallback)((function(e){p.current=e,k()}),[k]));return(0,t.useMemo)((function(){return{ref:y,width:l.width,height:l.height}}),[y,l?l.width:null,l?l.height:null])}},30879:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(37615);const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const r=function(e){return"string"==typeof e&&a.test(e)};const o=function(e){if(!r(e))throw TypeError("Invalid UUID");let n;const i=new Uint8Array(16);return i[0]=(n=parseInt(e.slice(0,8),16))>>>24,i[1]=n>>>16&255,i[2]=n>>>8&255,i[3]=255&n,i[4]=(n=parseInt(e.slice(9,13),16))>>>8,i[5]=255&n,i[6]=(n=parseInt(e.slice(14,18),16))>>>8,i[7]=255&n,i[8]=(n=parseInt(e.slice(19,23),16))>>>8,i[9]=255&n,i[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=n/4294967296&255,i[12]=n>>>24&255,i[13]=n>>>16&255,i[14]=n>>>8&255,i[15]=255&n,i};function s(e,n,i,t){switch(e){case 0:return n&i^~n&t;case 1:case 3:return n^i^t;case 2:return n&i^n&t^i&t}}function l(e,n){return e<<n|e>>>32-n}const d=function(e,n,i){function a(e,a,r,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const n=[];for(let i=0;i<e.length;++i)n.push(e.charCodeAt(i));return n}(e)),"string"==typeof a&&(a=o(a)),16!==(null===(l=a)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+e.length);if(d.set(a),d.set(e,a.length),d=i(d),d[6]=15&d[6]|n,d[8]=63&d[8]|128,r){s=s||0;for(let e=0;e<16;++e)r[s+e]=d[e];return r}return(0,t.S)(d)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}("v5",80,(function(e){const n=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const n=unescape(encodeURIComponent(e));e=[];for(let i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const t=e.length/4+2,a=Math.ceil(t/16),r=new Array(a);for(let n=0;n<a;++n){const i=new Uint32Array(16);for(let t=0;t<16;++t)i[t]=e[64*n+4*t]<<24|e[64*n+4*t+1]<<16|e[64*n+4*t+2]<<8|e[64*n+4*t+3];r[n]=i}r[a-1][14]=8*(e.length-1)/Math.pow(2,32),r[a-1][14]=Math.floor(r[a-1][14]),r[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const t=new Uint32Array(80);for(let n=0;n<16;++n)t[n]=r[e][n];for(let e=16;e<80;++e)t[e]=l(t[e-3]^t[e-8]^t[e-14]^t[e-16],1);let a=i[0],o=i[1],d=i[2],c=i[3],u=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),r=l(a,5)+s(i,o,d,c)+u+n[i]+t[e]>>>0;u=c,c=d,d=l(o,30)>>>0,o=a,a=r}i[0]=i[0]+a>>>0,i[1]=i[1]+o>>>0,i[2]=i[2]+d>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+u>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}))}}]);